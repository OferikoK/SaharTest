<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>üèÜ ◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù - ◊û◊¢◊ß◊ë ◊™◊®◊í◊ï◊ú</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;700;900&display=swap');

  :root {
    --bs-dark: #1a0a2e;
    --bs-purple: #2d1b69;
    --bs-blue: #1e3a5f;
    --bs-yellow: #ffd700;
    --bs-orange: #ff8c00;
    --bs-red: #ff3b3b;
    --bs-green: #00e676;
    --bs-cyan: #00e5ff;
    --bs-pink: #ff4081;
    --bs-glow: rgba(255, 215, 0, 0.4);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

  body {
    font-family: 'Rubik', sans-serif;
    background: linear-gradient(135deg, var(--bs-dark) 0%, #0d0221 50%, #1a0533 100%);
    min-height: 100vh;
    color: #fff;
    overflow-x: hidden;
  }

  .stars {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 0;
    background: radial-gradient(2px 2px at 20% 30%, #fff3, transparent),
                radial-gradient(2px 2px at 40% 70%, #fff2, transparent),
                radial-gradient(1px 1px at 60% 20%, #fff4, transparent),
                radial-gradient(1px 1px at 80% 50%, #fff3, transparent),
                radial-gradient(2px 2px at 10% 80%, #fff2, transparent),
                radial-gradient(1px 1px at 90% 10%, #fff3, transparent),
                radial-gradient(2px 2px at 50% 50%, #fff1, transparent),
                radial-gradient(1px 1px at 30% 90%, #fff2, transparent);
    animation: twinkle 4s ease-in-out infinite alternate;
  }
  @keyframes twinkle { from { opacity: 0.5; } to { opacity: 1; } }

  .app { position: relative; z-index: 1; max-width: 500px; margin: 0 auto; padding: 16px; padding-bottom: 100px; }

  /* Header */
  .header {
    text-align: center; padding: 20px 10px; margin-bottom: 16px;
    background: linear-gradient(180deg, rgba(45,27,105,0.8), rgba(30,58,95,0.6));
    border-radius: 20px; border: 2px solid rgba(255,215,0,0.3);
    box-shadow: 0 0 30px rgba(255,215,0,0.1);
    position: relative;
  }
  .header h1 {
    font-size: 1.6em; font-weight: 900;
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5)); margin-bottom: 4px;
  }
  .header .subtitle { font-size: 0.85em; color: var(--bs-cyan); font-weight: 600; }
  .admin-toggle {
    position: absolute; top: 10px; left: 10px;
    background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
    border-radius: 8px; padding: 4px 8px; font-size: 0.7em; color: #888;
    cursor: pointer; font-family: 'Rubik', sans-serif;
  }
  .admin-toggle:active { background: rgba(255,255,255,0.2); }

  /* Character avatar */
  .avatar-section { text-align: center; margin-bottom: 12px; }
  .avatar {
    width: 80px; height: 80px; margin: 0 auto 6px;
    border-radius: 50%; border: 3px solid var(--bs-yellow);
    box-shadow: 0 0 20px var(--bs-glow);
    display: flex; align-items: center; justify-content: center;
    font-size: 3em;
    background: linear-gradient(180deg, rgba(45,27,105,0.9), rgba(30,58,95,0.9));
    animation: avatarPulse 2s ease-in-out infinite;
  }
  @keyframes avatarPulse {
    0%, 100% { box-shadow: 0 0 20px var(--bs-glow); }
    50% { box-shadow: 0 0 35px var(--bs-glow), 0 0 60px rgba(255,215,0,0.15); }
  }
  .player-name { font-size: 0.9em; font-weight: 700; color: var(--bs-yellow); }
  .player-rank { font-size: 0.7em; color: var(--bs-cyan); margin-top: 2px; }

  /* Stats Bar */
  .stats-bar { display: flex; justify-content: space-around; gap: 8px; margin-bottom: 16px; }
  .stat-box {
    flex: 1; background: linear-gradient(180deg, rgba(45,27,105,0.9), rgba(26,10,46,0.9));
    border-radius: 16px; padding: 12px 8px; text-align: center;
    border: 2px solid rgba(255,215,0,0.2); box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .stat-box:active { transform: scale(0.95); }
  .stat-box .stat-icon { font-size: 1.5em; margin-bottom: 4px; }
  .stat-box .stat-value {
    font-size: 1.4em; font-weight: 900;
    background: linear-gradient(180deg, #fff, var(--bs-cyan));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .stat-box .stat-label { font-size: 0.65em; color: #aaa; margin-top: 2px; }

  /* XP Progress bar */
  .xp-section {
    background: linear-gradient(180deg, rgba(45,27,105,0.8), rgba(30,58,95,0.5));
    border-radius: 16px; padding: 14px 16px; margin-bottom: 16px;
    border: 2px solid rgba(0,229,255,0.2);
  }
  .xp-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
  .xp-label { font-size: 0.8em; font-weight: 700; color: var(--bs-cyan); }
  .xp-value { font-size: 0.8em; font-weight: 700; color: var(--bs-yellow); }
  .xp-bar-bg {
    height: 22px; border-radius: 11px;
    background: rgba(0,0,0,0.5); border: 1px solid rgba(255,215,0,0.2);
    overflow: hidden; position: relative;
  }
  .xp-bar-fill {
    height: 100%; border-radius: 11px;
    background: linear-gradient(90deg, var(--bs-green), var(--bs-cyan), var(--bs-yellow));
    transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 15px rgba(0,230,118,0.5); position: relative;
  }
  .xp-bar-fill::after {
    content: ''; position: absolute; top: 0; left: 0; right: 0; height: 50%;
    background: linear-gradient(180deg, rgba(255,255,255,0.35), transparent); border-radius: 11px;
  }
  .xp-bar-text {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.65em; font-weight: 900; color: #fff;
    text-shadow: 0 1px 3px rgba(0,0,0,0.7);
  }
  .xp-next-prize { font-size: 0.7em; color: #aaa; margin-top: 6px; text-align: center; }

  /* Prize showcase */
  .prizes-section {
    background: linear-gradient(180deg, rgba(45,27,105,0.6), rgba(26,10,46,0.6));
    border-radius: 16px; padding: 14px; margin-bottom: 16px;
    border: 2px solid rgba(255,64,129,0.2);
  }
  .prizes-title { font-size: 0.9em; font-weight: 700; color: var(--bs-pink); text-align: center; margin-bottom: 10px; }
  .prizes-list { display: flex; flex-wrap: wrap; gap: 6px; justify-content: center; }
  .prize-chip {
    background: linear-gradient(135deg, rgba(255,64,129,0.2), rgba(255,140,0,0.2));
    border: 1px solid rgba(255,215,0,0.3); border-radius: 12px;
    padding: 6px 10px; font-size: 0.75em; font-weight: 600;
    display: flex; align-items: center; gap: 4px;
    animation: chipGlow 2s ease-in-out infinite alternate;
  }
  @keyframes chipGlow {
    from { box-shadow: 0 0 5px rgba(255,64,129,0.2); }
    to { box-shadow: 0 0 15px rgba(255,64,129,0.4); }
  }
  .prize-chip.claimed { background: linear-gradient(135deg, rgba(0,230,118,0.3), rgba(0,229,255,0.2)); border-color: var(--bs-green); }

  /* Units list */
  .units-title { font-size: 1em; font-weight: 900; color: var(--bs-yellow); margin-bottom: 12px; text-align: center; }
  .unit-card {
    background: linear-gradient(180deg, rgba(45,27,105,0.7), rgba(30,58,95,0.5));
    border-radius: 14px; padding: 14px 16px; margin-bottom: 10px;
    border: 2px solid rgba(255,255,255,0.1);
    display: flex; align-items: center; gap: 12px;
    transition: all 0.3s ease; cursor: pointer;
    -webkit-user-select: none; user-select: none;
    position: relative; overflow: hidden;
  }
  .unit-card::before {
    content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,215,0,0.05), transparent);
    animation: shimmer 3s ease-in-out infinite;
  }
  @keyframes shimmer { 0% { left: -100%; } 50% { left: 100%; } 100% { left: 100%; } }
  .unit-card:active { transform: scale(0.97); }
  .unit-pdf-btn {
    background: linear-gradient(135deg, var(--bs-cyan), #0088cc);
    color: #fff; border: none; border-radius: 10px;
    padding: 6px 10px; font-size: 1em; cursor: pointer;
    flex-shrink: 0; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 8px rgba(0,229,255,0.3);
    transition: transform 0.2s; min-width: 36px; min-height: 36px;
    text-decoration: none;
  }
  .unit-pdf-btn:active { transform: scale(0.9); }
  .unit-quiz-btn {
    background: linear-gradient(135deg, var(--bs-green), #00b060);
    color: #fff; border: none; border-radius: 10px;
    padding: 6px 10px; font-size: 1em; cursor: pointer;
    flex-shrink: 0; display: flex; align-items: center; justify-content: center;
    box-shadow: 0 2px 8px rgba(0,230,118,0.3);
    transition: transform 0.2s; min-width: 36px; min-height: 36px;
    text-decoration: none;
  }
  .unit-quiz-btn:active { transform: scale(0.9); }
  .unit-card.done .unit-pdf-btn,
  .unit-card.done .unit-quiz-btn {
    opacity: 0.6;
  }
  .unit-card.done {
    border-color: rgba(0,230,118,0.4);
    background: linear-gradient(180deg, rgba(0,100,50,0.3), rgba(0,60,30,0.3));
  }
  .unit-card.done::before { display: none; }
  .unit-num {
    width: 40px; height: 40px; border-radius: 50%;
    background: linear-gradient(135deg, var(--bs-purple), var(--bs-blue));
    border: 2px solid var(--bs-yellow);
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; font-size: 0.85em; flex-shrink: 0;
    box-shadow: 0 0 10px var(--bs-glow);
  }
  .unit-card.done .unit-num {
    background: linear-gradient(135deg, #004d25, #006633);
    border-color: var(--bs-green); box-shadow: 0 0 10px rgba(0,230,118,0.3);
  }
  .unit-name { flex: 1; font-size: 0.8em; font-weight: 600; line-height: 1.3; }
  .unit-status { font-size: 1.3em; flex-shrink: 0; }
  .unit-pts {
    font-size: 0.65em; font-weight: 700; color: var(--bs-yellow);
    background: rgba(255,215,0,0.15); padding: 3px 10px; border-radius: 8px; flex-shrink: 0;
  }
  .unit-card.done .unit-pts { color: var(--bs-green); background: rgba(0,230,118,0.15); }

  /* Confetti & particles */
  .particle-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1000; }
  .particle { position: absolute; border-radius: 3px; animation: particleFall linear forwards; }
  @keyframes particleFall {
    0% { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); }
    100% { opacity: 0; transform: translateY(100vh) rotate(720deg) scale(0.3); }
  }

  /* Star burst effect */
  .star-burst { position: fixed; pointer-events: none; z-index: 1001; }
  .star-burst .ray {
    position: absolute; width: 3px; background: var(--bs-yellow);
    border-radius: 2px; transform-origin: bottom center;
    animation: rayBurst 0.8s ease-out forwards;
  }
  @keyframes rayBurst {
    0% { height: 0; opacity: 1; }
    50% { height: 40px; opacity: 1; }
    100% { height: 0; opacity: 0; transform: translateY(-60px); }
  }

  /* Points popup */
  .points-popup {
    position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
    z-index: 2000; text-align: center; pointer-events: none;
    animation: popupAnim 2s ease-out forwards;
  }
  @keyframes popupAnim {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.3) rotate(-10deg); }
    15% { opacity: 1; transform: translate(-50%, -50%) scale(1.3) rotate(5deg); }
    30% { transform: translate(-50%, -50%) scale(1) rotate(0deg); }
    80% { opacity: 1; }
    100% { opacity: 0; transform: translate(-50%, -70%) scale(0.8); }
  }
  .points-popup .pts-text {
    font-size: 4em; font-weight: 900;
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.7));
  }
  .points-popup .pts-label {
    font-size: 1.4em; color: #fff; font-weight: 700;
    text-shadow: 0 2px 8px rgba(0,0,0,0.8);
  }
  .points-popup .pts-sub {
    font-size: 0.9em; color: var(--bs-cyan); font-weight: 600;
    margin-top: 4px; text-shadow: 0 2px 8px rgba(0,0,0,0.8);
  }

  /* Modal (prize + confirm) */
  .modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); z-index: 3000;
    display: flex; align-items: center; justify-content: center;
    padding: 20px; animation: fadeIn 0.3s ease;
  }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  .modal-box {
    background: linear-gradient(180deg, #2d1b69, #1a0a2e);
    border-radius: 24px; padding: 30px 24px; text-align: center;
    border: 3px solid var(--bs-yellow);
    box-shadow: 0 0 60px var(--bs-glow), 0 0 120px rgba(255,215,0,0.2);
    max-width: 340px; width: 100%;
    animation: modalPop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }
  @keyframes modalPop { 0% { transform: scale(0.5); opacity: 0; } 100% { transform: scale(1); opacity: 1; } }
  .modal-box .trophy { font-size: 4em; margin-bottom: 10px; animation: bounce 1s ease infinite; }
  @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
  .modal-box h2 {
    font-size: 1.4em; font-weight: 900;
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 8px;
  }
  .modal-box .prize-reveal { font-size: 1.1em; color: #fff; font-weight: 700; margin-bottom: 6px; }
  .modal-box .prize-name {
    font-size: 1.5em; font-weight: 900; color: var(--bs-cyan);
    margin-bottom: 16px; text-shadow: 0 0 20px rgba(0,229,255,0.5);
  }
  .modal-box .prize-icon { font-size: 3em; margin-bottom: 16px; }
  .modal-box .confirm-text { font-size: 1em; color: #ccc; margin-bottom: 16px; line-height: 1.5; }
  .modal-box .confirm-unit { font-size: 0.9em; color: var(--bs-cyan); font-weight: 700; margin-bottom: 16px; }
  .modal-btn {
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    color: #1a0a2e; border: none; border-radius: 14px;
    padding: 12px 32px; font-family: 'Rubik', sans-serif;
    font-size: 1em; font-weight: 900; cursor: pointer;
    box-shadow: 0 4px 15px rgba(255,215,0,0.4); transition: transform 0.2s;
    margin: 4px;
  }
  .modal-btn:active { transform: scale(0.95); }
  .modal-btn.cancel {
    background: linear-gradient(180deg, #444, #333); color: #ccc;
    box-shadow: none;
  }
  .modal-btn.danger {
    background: linear-gradient(180deg, var(--bs-red), #cc0000); color: #fff;
    box-shadow: 0 4px 15px rgba(255,59,59,0.3);
  }

  /* Admin panel */
  .admin-panel {
    background: linear-gradient(180deg, rgba(100,20,20,0.8), rgba(60,10,10,0.9));
    border-radius: 16px; padding: 16px; margin-bottom: 16px;
    border: 2px solid rgba(255,59,59,0.4);
  }
  .admin-title { font-size: 0.9em; font-weight: 700; color: var(--bs-red); text-align: center; margin-bottom: 12px; }
  .admin-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; gap: 8px; }
  .admin-label { font-size: 0.75em; color: #ccc; flex: 1; }
  .admin-btn {
    background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2);
    border-radius: 8px; padding: 6px 12px; font-family: 'Rubik', sans-serif;
    font-size: 0.7em; font-weight: 600; color: #fff; cursor: pointer;
    min-width: 36px; text-align: center;
  }
  .admin-btn:active { background: rgba(255,255,255,0.25); }
  .admin-btn.red { border-color: rgba(255,59,59,0.5); color: var(--bs-red); }
  .admin-btn.green { border-color: rgba(0,230,118,0.5); color: var(--bs-green); }
  .admin-pts-display {
    font-size: 0.85em; font-weight: 900; color: var(--bs-yellow);
    min-width: 40px; text-align: center;
  }

  /* Streak badge */
  .streak-badge {
    display: inline-flex; align-items: center; gap: 4px;
    background: linear-gradient(135deg, rgba(255,140,0,0.3), rgba(255,59,59,0.2));
    border: 1px solid rgba(255,140,0,0.4); border-radius: 10px;
    padding: 3px 10px; font-size: 0.7em; font-weight: 700; color: var(--bs-orange);
    margin-top: 6px;
  }

  /* Completion celebration */
  .all-done {
    text-align: center; padding: 30px; margin: 20px 0;
    background: linear-gradient(180deg, rgba(0,100,50,0.3), rgba(0,60,30,0.3));
    border-radius: 20px; border: 2px solid var(--bs-green);
    box-shadow: 0 0 40px rgba(0,230,118,0.2);
  }
  .all-done .big-trophy { font-size: 4em; animation: bounce 1s ease infinite; }
  .all-done h2 { font-size: 1.5em; color: var(--bs-green); margin: 10px 0; }
  .all-done p { color: #aaa; font-size: 0.85em; }

  /* Reset */
  .reset-section { text-align: center; margin-top: 30px; padding-bottom: 20px; }
  .reset-btn {
    background: rgba(255,59,59,0.2); color: var(--bs-red);
    border: 1px solid rgba(255,59,59,0.3); border-radius: 10px;
    padding: 8px 20px; font-family: 'Rubik', sans-serif;
    font-size: 0.75em; font-weight: 600; cursor: pointer;
  }

  /* ====== QUIZ STYLES ====== */
  .quiz-container {
    position: relative; z-index: 1;
    max-width: 500px; margin: 0 auto; padding: 16px; padding-bottom: 100px;
  }
  .quiz-header {
    text-align: center; padding: 16px; margin-bottom: 16px;
    background: linear-gradient(180deg, rgba(45,27,105,0.8), rgba(30,58,95,0.6));
    border-radius: 20px; border: 2px solid rgba(0,229,255,0.3);
  }
  .quiz-title {
    font-size: 1.2em; font-weight: 900; color: var(--bs-cyan); margin-bottom: 4px;
  }
  .quiz-section-name {
    font-size: 0.85em; color: var(--bs-yellow); font-weight: 600;
  }
  .quiz-timer {
    display: inline-flex; align-items: center; gap: 6px;
    background: rgba(0,0,0,0.4); border-radius: 12px;
    padding: 8px 16px; margin-top: 8px;
    font-size: 1.4em; font-weight: 900; color: var(--bs-cyan);
    border: 1px solid rgba(0,229,255,0.3);
  }
  .quiz-progress-bar {
    height: 8px; border-radius: 4px; background: rgba(0,0,0,0.4);
    margin: 12px 0; overflow: hidden; border: 1px solid rgba(255,215,0,0.2);
  }
  .quiz-progress-fill {
    height: 100%; border-radius: 4px;
    background: linear-gradient(90deg, var(--bs-green), var(--bs-cyan));
    transition: width 0.5s ease;
  }
  .quiz-progress-text {
    font-size: 0.7em; color: #aaa; text-align: center; margin-bottom: 12px;
  }
  .quiz-question-card {
    background: linear-gradient(180deg, rgba(45,27,105,0.7), rgba(30,58,95,0.5));
    border-radius: 16px; padding: 20px; margin-bottom: 16px;
    border: 2px solid rgba(255,255,255,0.1);
  }
  .quiz-q-num {
    font-size: 0.75em; color: var(--bs-cyan); font-weight: 700; margin-bottom: 8px;
  }
  .quiz-q-text {
    font-size: 1.05em; font-weight: 700; color: #fff; margin-bottom: 16px;
    line-height: 1.6;
  }
  .quiz-options { display: flex; flex-direction: column; gap: 10px; }
  .quiz-option {
    background: rgba(255,255,255,0.08); border: 2px solid rgba(255,255,255,0.15);
    border-radius: 12px; padding: 14px 16px; cursor: pointer;
    display: flex; align-items: center; gap: 12px;
    transition: all 0.2s ease; font-size: 0.95em;
  }
  .quiz-option:active { transform: scale(0.98); }
  .quiz-option.selected {
    border-color: var(--bs-cyan); background: rgba(0,229,255,0.15);
    box-shadow: 0 0 15px rgba(0,229,255,0.2);
  }
  .quiz-option .opt-letter {
    width: 32px; height: 32px; border-radius: 50%;
    background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.2);
    display: flex; align-items: center; justify-content: center;
    font-weight: 900; font-size: 0.85em; flex-shrink: 0;
  }
  .quiz-option.selected .opt-letter {
    background: var(--bs-cyan); border-color: var(--bs-cyan); color: #1a0a2e;
  }
  .quiz-nav {
    display: flex; gap: 10px; justify-content: center; margin-top: 16px;
  }
  .quiz-nav-btn {
    background: linear-gradient(180deg, var(--bs-purple), var(--bs-blue));
    color: #fff; border: 2px solid rgba(255,215,0,0.3);
    border-radius: 14px; padding: 12px 28px; font-family: 'Rubik', sans-serif;
    font-size: 0.9em; font-weight: 700; cursor: pointer;
    transition: transform 0.2s;
  }
  .quiz-nav-btn:active { transform: scale(0.95); }
  .quiz-nav-btn.primary {
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    color: #1a0a2e; font-weight: 900;
  }
  .quiz-nav-btn.back-home {
    background: linear-gradient(180deg, #444, #333); color: #ccc;
    border-color: rgba(255,255,255,0.2);
  }

  /* Quiz Results */
  .quiz-results {
    background: linear-gradient(180deg, rgba(45,27,105,0.7), rgba(30,58,95,0.5));
    border-radius: 20px; padding: 24px; margin-bottom: 16px;
    border: 2px solid rgba(255,215,0,0.3);
    text-align: center;
  }
  .quiz-score-big {
    font-size: 3.5em; font-weight: 900;
    background: linear-gradient(180deg, var(--bs-yellow), var(--bs-orange));
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    margin: 10px 0;
  }
  .quiz-score-label { font-size: 1em; color: var(--bs-cyan); font-weight: 700; }
  .quiz-time-result { font-size: 0.85em; color: #aaa; margin: 8px 0; }
  .quiz-result-item {
    background: rgba(0,0,0,0.3); border-radius: 12px; padding: 14px;
    margin-bottom: 10px; text-align: right;
    border: 2px solid rgba(255,255,255,0.05);
  }
  .quiz-result-item.correct { border-color: rgba(0,230,118,0.3); }
  .quiz-result-item.wrong { border-color: rgba(255,59,59,0.3); }
  .quiz-result-q { font-size: 0.85em; font-weight: 700; margin-bottom: 6px; color: #ddd; }
  .quiz-result-answer { font-size: 0.8em; color: #aaa; }
  .quiz-result-answer .correct-text { color: var(--bs-green); font-weight: 700; }
  .quiz-result-answer .wrong-text { color: var(--bs-red); font-weight: 700; text-decoration: line-through; }
  .quiz-result-icon { font-size: 1.2em; float: left; }
  .quiz-section-header {
    font-size: 0.9em; font-weight: 700; color: var(--bs-yellow);
    margin: 16px 0 8px; text-align: center;
    padding: 8px; background: rgba(255,215,0,0.1); border-radius: 10px;
  }
</style>
</head>
<body>

<div class="stars"></div>
<div class="particle-container" id="particles"></div>
<div class="app" id="app"></div>

<script>
// ====== QUIZ DATA ======
const QUIZ_TESTS = [{"id":"test1","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 1","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊ô◊ú◊ì ◊§◊™◊ó ◊ê◊™ ______ ◊õ◊ì◊ô ◊ú◊ß◊®◊ï◊ê ◊ê◊™ ◊î◊°◊ô◊§◊ï◊®.","text2":null,"options":["◊î◊ì◊ú◊™","◊î◊™◊ô◊ß","◊î◊°◊§◊®","◊î◊ó◊ú◊ï◊ü"],"correctAnswer":2},{"id":"q2","text":"◊ë◊ó◊ï◊®◊£ ◊î◊ô◊û◊ô◊ù ______ ◊ï◊î◊ú◊ô◊ú◊ï◊™ ◊ê◊®◊ï◊õ◊ô◊ù.","text2":null,"options":["◊ó◊û◊ô◊ù","◊ô◊§◊ô◊ù","◊ß◊¶◊®◊ô◊ù","◊©◊û◊ó◊ô◊ù"],"correctAnswer":2},{"id":"q3","text":"◊î◊ì◊ë◊© ◊û◊™◊ï◊ß, ◊ê◊ë◊ú ◊î◊ú◊ô◊û◊ï◊ü ______.","text2":null,"options":["◊¶◊î◊ï◊ë","◊¢◊í◊ï◊ú","◊ó◊û◊ï◊•","◊ß◊ò◊ü"],"correctAnswer":2},{"id":"q4","text":"◊õ◊ì◊ô ◊ú◊ó◊¶◊ï◊™ ◊ê◊™ ◊î◊õ◊ë◊ô◊© ◊ë◊ë◊ò◊ó◊î, ◊ô◊© ◊ú◊ó◊õ◊ï◊™ ◊©◊î◊®◊û◊ñ◊ï◊® ◊ô◊î◊ô◊î ______.","text2":null,"options":["◊ô◊®◊ï◊ß","◊ê◊ì◊ï◊ù","◊¶◊î◊ï◊ë","◊õ◊ë◊ï◊ô"],"correctAnswer":0},{"id":"q5","text":"◊î◊í◊©◊® ______ ◊ê◊™ ◊©◊†◊ô ◊¶◊ô◊ì◊ô ◊î◊†◊î◊®.","text2":null,"options":["◊î◊®◊°","◊î◊§◊®◊ô◊ì","◊ó◊ô◊ë◊®","◊û◊ô◊ú◊ê"],"correctAnswer":2}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊¢◊ô◊ü : ◊®◊ê◊ô◊ô◊î  =  ◊ê◊ï◊ñ◊ü : ?","text2":null,"options":["◊§◊†◊ô◊ù","◊©◊û◊ô◊¢◊î","◊¶◊ú◊ô◊ú","◊®◊ê◊©"],"correctAnswer":1},{"id":"q2","text":"◊°◊§◊® : ◊ß◊®◊ô◊ê◊î  =  ◊õ◊ô◊†◊ï◊® : ?","text2":null,"options":["◊û◊ï◊ñ◊ô◊ß◊î","◊†◊í◊ô◊†◊î","◊©◊ô◊®◊î","◊¶◊ú◊ô◊ú"],"correctAnswer":1},{"id":"q3","text":"◊ô◊ï◊ù : ◊ú◊ô◊ú◊î  =  ◊ß◊ô◊• : ?","text2":null,"options":["◊ê◊ë◊ô◊ë","◊©◊û◊©","◊ó◊ï◊®◊£","◊í◊©◊ù"],"correctAnswer":2},{"id":"q4","text":"◊†◊î◊í : ◊û◊õ◊ï◊†◊ô◊™  =  ◊ò◊ô◊ô◊° : ?","text2":null,"options":["◊©◊û◊ô◊ô◊ù","◊û◊ò◊ï◊°","◊¢◊†◊ü","◊õ◊ë◊ô◊©"],"correctAnswer":1},{"id":"q5","text":"◊ê◊¶◊ë◊¢ : ◊ô◊ì  =  ◊¢◊ú◊î : ?","text2":null,"options":["◊ô◊®◊ï◊ß","◊¢◊†◊£","◊§◊®◊ó","◊¢◊•"],"correctAnswer":3}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ú◊ì◊†◊ô ◊ô◊© 3 ◊©◊ß◊ô◊ï◊™. ◊ë◊õ◊ú ◊©◊ß◊ô◊™ ◊ô◊© 4 ◊°◊ï◊õ◊®◊ô◊ï◊™. ◊ì◊†◊ô ◊†◊™◊ü 5 ◊°◊ï◊õ◊®◊ô◊ï◊™ ◊ú◊ó◊ë◊®◊ï.","text2":"◊õ◊û◊î ◊°◊ï◊õ◊®◊ô◊ï◊™ ◊†◊©◊ê◊®◊ï ◊ú◊ì◊†◊ô?","options":["5","7","8","12"],"correctAnswer":1},{"id":"q2","text":"◊ë◊õ◊ô◊™◊î ◊ô◊© 24 ◊™◊ú◊û◊ô◊ì◊ô◊ù. ◊û◊°◊§◊® ◊î◊ë◊†◊ï◊™ ◊í◊ì◊ï◊ú ◊§◊ô 3 ◊û◊û◊°◊§◊® ◊î◊ë◊†◊ô◊ù.","text2":"◊õ◊û◊î ◊ë◊†◊ô◊ù ◊ô◊© ◊ë◊õ◊ô◊™◊î?","options":["4","6","8","12"],"correctAnswer":1},{"id":"q3","text":"◊®◊õ◊ë◊™ ◊ô◊ï◊¶◊ê◊™ ◊û◊™◊ó◊†◊î ◊ë◊©◊¢◊î 9:15 ◊ï◊û◊í◊ô◊¢◊î ◊ú◊ô◊¢◊ì ◊ê◊ó◊®◊ô 45 ◊ì◊ß◊ï◊™.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊î◊í◊ô◊¢◊î ◊î◊®◊õ◊ë◊™?","options":["9:45","9:55","10:00","10:15"],"correctAnswer":2},{"id":"q4","text":"◊ú◊©◊®◊î ◊ô◊© ◊õ◊û◊ï◊™ ◊û◊°◊ï◊ô◊û◊™ ◊©◊ú ◊í◊ï◊ú◊ï◊™. ◊î◊ô◊ê ◊†◊™◊†◊î ◊ó◊¶◊ô ◊û◊î◊í◊ï◊ú◊ï◊™ ◊ú◊®◊ï◊ü,","text2":"◊ï◊ê◊ñ ◊†◊©◊ê◊®◊ï ◊ú◊î 8 ◊í◊ï◊ú◊ï◊™. ◊õ◊û◊î ◊í◊ï◊ú◊ï◊™ ◊î◊ô◊ï ◊ú◊©◊®◊î ◊ë◊î◊™◊ó◊ú◊î?","options":["12","14","16","18"],"correctAnswer":2},{"id":"q5","text":"◊ë◊ó◊†◊ï◊™ ◊ô◊© 5 ◊û◊ì◊§◊ô◊ù. ◊ë◊õ◊ú ◊û◊ì◊£ ◊ô◊© 6 ◊°◊§◊®◊ô◊ù. ◊û◊õ◊®◊ï 8 ◊°◊§◊®◊ô◊ù.","text2":"◊õ◊û◊î ◊°◊§◊®◊ô◊ù ◊†◊©◊ê◊®◊ï ◊ë◊ó◊†◊ï◊™?","options":["18","20","22","24"],"correctAnswer":2}]}]},{"id":"test2","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 2","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊ê◊û◊ü ◊¶◊ô◊ô◊® ______ ◊ô◊§◊î ◊¢◊ú ◊î◊ß◊ô◊®.","text2":null,"options":["◊©◊ï◊ú◊ó◊ü","◊ó◊ú◊ï◊ü","◊¶◊ô◊ï◊®","◊õ◊ô◊°◊ê"],"correctAnswer":2},{"id":"q2","text":"◊õ◊©◊ô◊ï◊®◊ì ◊í◊©◊ù ◊ó◊ñ◊ß, ◊î◊®◊ó◊ï◊ë◊ï◊™ ◊†◊î◊ô◊ô◊ù ______.","text2":null,"options":["◊ô◊ë◊©◊ô◊ù","◊®◊ò◊ï◊ë◊ô◊ù","◊í◊ë◊ï◊î◊ô◊ù","◊ó◊û◊ô◊ù"],"correctAnswer":1},{"id":"q3","text":"◊î◊¶◊ô◊§◊ï◊® ◊ë◊†◊™◊î ______ ◊¢◊ú ◊¢◊†◊£ ◊î◊¢◊•.","text2":null,"options":["◊ë◊ô◊™","◊í◊ì◊®","◊ß◊ü","◊í◊í"],"correctAnswer":2},{"id":"q4","text":"◊ê◊ó◊®◊ô ◊©◊®◊¶◊†◊ï ◊î◊®◊ë◊î, ◊î◊®◊í◊©◊†◊ï ______ ◊ï◊®◊¶◊ô◊†◊ï ◊ú◊†◊ï◊ó.","text2":null,"options":["◊®◊¢◊ë◊ô◊ù","◊¢◊ô◊ô◊§◊ô◊ù","◊©◊û◊ó◊ô◊ù","◊ß◊®◊ô◊ù"],"correctAnswer":1},{"id":"q5","text":"◊î◊°◊§◊®◊ô◊ô◊î ◊î◊ô◊ê ◊û◊ß◊ï◊ù ◊©◊ë◊ï ◊ê◊§◊©◊® ______ ◊°◊§◊®◊ô◊ù.","text2":null,"options":["◊ú◊ë◊©◊ú","◊ú◊†◊°◊ï◊¢","◊ú◊û◊õ◊ï◊®","◊ú◊©◊ê◊ï◊ú"],"correctAnswer":3}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊®◊ï◊§◊ê : ◊ë◊ô◊™ ◊ó◊ï◊ú◊ô◊ù  =  ◊û◊ï◊®◊î : ?","text2":null,"options":["◊ô◊ú◊ì","◊ë◊ô◊™ ◊°◊§◊®","◊°◊§◊®","◊õ◊ô◊™◊î"],"correctAnswer":1},{"id":"q2","text":"◊ó◊ù : ◊ß◊®  =  ◊í◊ë◊ï◊î : ?","text2":null,"options":["◊®◊ó◊ë","◊†◊û◊ï◊ö","◊ê◊®◊ï◊ö","◊í◊ì◊ï◊ú"],"correctAnswer":1},{"id":"q3","text":"◊ì◊í : ◊û◊ô◊ù  =  ◊¶◊ô◊§◊ï◊® : ?","text2":null,"options":["◊¢◊•","◊ô◊ù","◊©◊û◊ô◊ô◊ù","◊õ◊†◊£"],"correctAnswer":2},{"id":"q4","text":"◊û◊°◊§◊®◊ô◊ô◊ù : ◊í◊ñ◊ô◊®◊î  =  ◊¢◊ò : ?","text2":null,"options":["◊†◊ô◊ô◊®","◊õ◊™◊ô◊ë◊î","◊¶◊ô◊ï◊®","◊ß◊®◊ô◊ê◊î"],"correctAnswer":1},{"id":"q5","text":"◊©◊ü : ◊§◊î  =  ◊©◊ô◊¢◊® : ?","text2":null,"options":["◊§◊†◊ô◊ù","◊®◊ê◊©","◊í◊ï◊£","◊ô◊ì"],"correctAnswer":1}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ë◊ß◊ï◊§◊°◊î ◊ô◊© 18 ◊¢◊§◊®◊ï◊†◊ï◊™. ◊ó◊ô◊ú◊ß◊ï ◊ê◊ï◊™◊ù ◊©◊ï◊ï◊î ◊ë◊©◊ï◊ï◊î ◊ë◊ô◊ü 3 ◊ô◊ú◊ì◊ô◊ù.","text2":"◊õ◊ú ◊ô◊ú◊ì ◊†◊™◊ü 2 ◊¢◊§◊®◊ï◊†◊ï◊™ ◊ú◊ó◊ë◊®. ◊õ◊û◊î ◊¢◊§◊®◊ï◊†◊ï◊™ ◊†◊©◊ê◊®◊ï ◊ú◊õ◊ú ◊ô◊ú◊ì?","options":["3","4","6","8"],"correctAnswer":1},{"id":"q2","text":"◊ê◊û◊ê ◊ß◊†◊™◊î 4 ◊ó◊ë◊ô◊ú◊ï◊™ ◊ë◊ô◊°◊ß◊ï◊ï◊ô◊ò◊ô◊ù. ◊ë◊õ◊ú ◊ó◊ë◊ô◊ú◊î ◊ô◊© 8 ◊ë◊ô◊°◊ß◊ï◊ï◊ô◊ò◊ô◊ù.","text2":"◊î◊û◊©◊§◊ó◊î ◊ê◊õ◊ú◊î 12 ◊ë◊ô◊°◊ß◊ï◊ï◊ô◊ò◊ô◊ù. ◊õ◊û◊î ◊ë◊ô◊°◊ß◊ï◊ï◊ô◊ò◊ô◊ù ◊†◊©◊ê◊®◊ï?","options":["16","20","24","28"],"correctAnswer":1},{"id":"q3","text":"◊ê◊ï◊ò◊ï◊ë◊ï◊° ◊ô◊¶◊ê ◊û◊î◊™◊ó◊†◊î ◊ë◊©◊¢◊î 8:40 ◊ï◊†◊°◊¢ ◊ë◊û◊©◊ö 55 ◊ì◊ß◊ï◊™.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊î◊í◊ô◊¢ ◊î◊ê◊ï◊ò◊ï◊ë◊ï◊° ◊ú◊ô◊¢◊ì?","options":["9:25","9:35","9:45","9:55"],"correctAnswer":1},{"id":"q4","text":"◊ú◊®◊ï◊ü ◊ô◊© 15 ◊í◊ï◊ú◊ï◊™. ◊ú◊ì◊†◊î ◊ô◊© ◊§◊ô 2 ◊û◊û◊î ◊©◊ô◊© ◊ú◊®◊ï◊ü.","text2":"◊õ◊û◊î ◊í◊ï◊ú◊ï◊™ ◊ô◊© ◊ú◊©◊†◊ô◊î◊ù ◊ë◊ô◊ó◊ì?","options":["30","35","40","45"],"correctAnswer":3},{"id":"q5","text":"◊ë◊ó◊†◊ô◊ï◊ü ◊î◊ô◊ï 36 ◊û◊õ◊ï◊†◊ô◊ï◊™. ◊ô◊¶◊ê◊ï ◊ó◊¶◊ô ◊û◊î◊û◊õ◊ï◊†◊ô◊ï◊™,","text2":"◊ï◊ê◊ñ ◊†◊õ◊†◊°◊ï 8 ◊û◊õ◊ï◊†◊ô◊ï◊™ ◊ó◊ì◊©◊ï◊™. ◊õ◊û◊î ◊û◊õ◊ï◊†◊ô◊ï◊™ ◊ë◊ó◊†◊ô◊ï◊ü ◊¢◊õ◊©◊ô◊ï?","options":["22","24","26","28"],"correctAnswer":2}]}]},{"id":"test3","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 3","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊õ◊ú◊ë ______ ◊ë◊©◊û◊ó◊î ◊õ◊©◊®◊ê◊î ◊ê◊™ ◊ë◊¢◊ú◊ô◊ï.","text2":null,"options":["◊†◊©◊ö","◊ß◊§◊•","◊ô◊©◊ü","◊ë◊õ◊î"],"correctAnswer":1},{"id":"q2","text":"◊ë◊ó◊ï◊®◊£ ◊î◊ô◊û◊ô◊ù ______ ◊ô◊ï◊™◊® ◊û◊ê◊©◊® ◊ë◊ß◊ô◊•.","text2":null,"options":["◊ê◊®◊ï◊õ◊ô◊ù","◊ß◊¶◊®◊ô◊ù","◊ó◊û◊ô◊ù","◊©◊ß◊ò◊ô◊ù"],"correctAnswer":1},{"id":"q3","text":"◊î◊†◊í◊® ◊ë◊†◊î ______ ◊ó◊ì◊© ◊û◊¢◊• ◊ê◊ú◊ï◊ü.","text2":null,"options":["◊¢◊ï◊í◊î","◊©◊ï◊ú◊ó◊ü","◊©◊ô◊®","◊™◊û◊ï◊†◊î"],"correctAnswer":1},{"id":"q4","text":"◊õ◊ì◊ô ◊ú◊®◊ê◊ï◊™ ◊ë◊ó◊ï◊©◊ö ◊ê◊†◊ó◊†◊ï ◊¶◊®◊ô◊õ◊ô◊ù ______.","text2":null,"options":["◊û◊ò◊®◊ô◊î","◊õ◊ï◊ë◊¢","◊§◊†◊°","◊û◊§◊™◊ó"],"correctAnswer":2},{"id":"q5","text":"◊î◊°◊§◊®◊ü ◊¢◊ï◊ñ◊® ◊ú◊†◊ï ◊ú◊û◊¶◊ï◊ê ______ ◊ë◊°◊§◊®◊ô◊ô◊î.","text2":null,"options":["◊ê◊ï◊õ◊ú","◊¶◊¢◊¶◊ï◊¢◊ô◊ù","◊ë◊í◊ì◊ô◊ù","◊°◊§◊®◊ô◊ù"],"correctAnswer":3}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊†◊î◊í : ◊û◊õ◊ï◊†◊ô◊™  =  ◊ò◊ô◊ô◊° : ?","text2":null,"options":["◊®◊õ◊ë◊™","◊û◊ò◊ï◊°","◊ê◊ï◊§◊†◊ô◊ô◊ù","◊°◊ô◊®◊î"],"correctAnswer":1},{"id":"q2","text":"◊ê◊¶◊ë◊¢ : ◊ô◊ì  =  ◊ë◊ï◊î◊ü : ?","text2":null,"options":["◊†◊¢◊ú","◊õ◊£ ◊®◊í◊ú","◊í◊®◊ë","◊®◊í◊ú"],"correctAnswer":1},{"id":"q3","text":"◊ó◊ú◊ë : ◊ú◊ë◊ü  =  ◊ì◊ù : ?","text2":null,"options":["◊õ◊ó◊ï◊ú","◊ô◊®◊ï◊ß","◊ê◊ì◊ï◊ù","◊¶◊î◊ï◊ë"],"correctAnswer":2},{"id":"q4","text":"◊û◊°◊§◊®◊ô◊ô◊ù : ◊ú◊í◊ñ◊ï◊®  =  ◊û◊ë◊®◊í : ?","text2":null,"options":["◊ú◊ì◊§◊ï◊ß","◊ú◊î◊ë◊®◊ô◊í","◊ú◊ó◊™◊ï◊ö","◊ú◊¶◊ô◊ô◊®"],"correctAnswer":1},{"id":"q5","text":"◊ô◊ï◊ù : ◊ú◊ô◊ú◊î  =  ◊ß◊ô◊• : ?","text2":null,"options":["◊ê◊ë◊ô◊ë","◊°◊™◊ô◊ï","◊ó◊ï◊®◊£","◊©◊ë◊ï◊¢"],"correctAnswer":2}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ë◊õ◊ô◊™◊î 32 ◊™◊ú◊û◊ô◊ì◊ô◊ù. ◊î◊û◊ï◊®◊î ◊ó◊ô◊ú◊ß◊î ◊ê◊ï◊™◊ù ◊ú-4 ◊ß◊ë◊ï◊¶◊ï◊™ ◊©◊ï◊ï◊™.","text2":"◊õ◊û◊î ◊™◊ú◊û◊ô◊ì◊ô◊ù ◊ë◊õ◊ú ◊ß◊ë◊ï◊¶◊î?","options":["6","7","8","9"],"correctAnswer":2},{"id":"q2","text":"◊ê◊û◊ê ◊ß◊†◊™◊î 5 ◊ß\"◊í ◊™◊§◊ï◊ó◊ô◊ù. ◊õ◊ú ◊ß\"◊í ◊¢◊ï◊ú◊î 7 ◊©\"◊ó.","text2":"◊©◊ô◊ú◊û◊î ◊ë◊©◊ò◊® ◊©◊ú 50 ◊©\"◊ó. ◊õ◊û◊î ◊¢◊ï◊ì◊£ ◊ß◊ô◊ë◊ú◊î?","options":["15","25","12","20"],"correctAnswer":0},{"id":"q3","text":"◊ê◊ï◊ò◊ï◊ë◊ï◊° ◊ô◊¶◊ê ◊û◊î◊™◊ó◊†◊î ◊ë◊©◊¢◊î 7:45 ◊ï◊†◊°◊¢ ◊ë◊û◊©◊ö 50 ◊ì◊ß◊ï◊™.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊î◊í◊ô◊¢ ◊ú◊ô◊¢◊ì?","options":["8:25","8:35","8:45","8:55"],"correctAnswer":1},{"id":"q4","text":"◊ú◊ì◊†◊ô ◊ô◊© 18 ◊í◊ï◊ú◊ï◊™. ◊ú◊®◊ï◊ü ◊ô◊© ◊§◊ô 3 ◊û◊û◊î ◊©◊ô◊© ◊ú◊ì◊†◊ô.","text2":"◊õ◊û◊î ◊í◊ï◊ú◊ï◊™ ◊ô◊© ◊ú◊©◊†◊ô◊î◊ù ◊ë◊ô◊ó◊ì?","options":["54","72","36","60"],"correctAnswer":1},{"id":"q5","text":"◊ë◊ó◊†◊ï◊™ ◊î◊ô◊ï 60 ◊™◊§◊ï◊ñ◊ô◊ù. ◊û◊õ◊®◊ï ◊©◊ú◊ô◊© ◊û◊î◊ù.","text2":"◊õ◊û◊î ◊™◊§◊ï◊ñ◊ô◊ù ◊†◊©◊ê◊®◊ï ◊ë◊ó◊†◊ï◊™?","options":["40","20","30","45"],"correctAnswer":0}]}]},{"id":"test4","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 4","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊®◊ï◊ó ______ ◊ë◊ó◊ï◊ñ◊ß◊î ◊ï◊î◊¢◊§◊ô◊§◊ï◊ü ◊¢◊£ ◊í◊ë◊ï◊î.","text2":null,"options":["◊†◊©◊ë◊î","◊ô◊®◊ì◊î","◊¢◊ú◊™◊î","◊†◊§◊ú◊î"],"correctAnswer":0},{"id":"q2","text":"◊î◊ó◊™◊ï◊ú ◊ò◊ô◊§◊° ◊¢◊ú ◊î______ ◊ï◊ú◊ê ◊î◊¶◊ú◊ô◊ó ◊ú◊®◊ì◊™.","text2":null,"options":["◊®◊¶◊§◊î","◊¢◊•","◊ô◊ù","◊õ◊ë◊ô◊©"],"correctAnswer":1},{"id":"q3","text":"◊õ◊©◊®◊ï◊¶◊ô◊ù ◊ú◊ì◊¢◊™ ◊û◊î ◊î◊©◊¢◊î, ◊û◊°◊™◊õ◊ú◊ô◊ù ◊¢◊ú ______.","text2":null,"options":["◊ú◊ï◊ó","◊©◊¢◊ï◊ü","◊°◊§◊®","◊û◊®◊ê◊î"],"correctAnswer":1},{"id":"q4","text":"◊î◊ê◊ï◊§◊î ◊î◊õ◊ô◊ü ______ ◊ò◊¢◊ô◊û◊î ◊ë◊û◊ô◊ï◊ó◊ì ◊ú◊ó◊í.","text2":null,"options":["◊û◊õ◊™◊ë","◊¢◊ï◊í◊î","◊™◊û◊ï◊†◊î","◊©◊ô◊®"],"correctAnswer":1},{"id":"q5","text":"◊õ◊ì◊ô ◊ú◊ó◊¶◊ï◊™ ◊ê◊™ ◊î◊õ◊ë◊ô◊© ◊ë◊ë◊ò◊ó◊î ◊ô◊© ◊ú◊ó◊õ◊ï◊™ ◊ú______.","text2":null,"options":["◊í◊©◊ù","◊®◊ï◊ó","◊ê◊ï◊® ◊ô◊®◊ï◊ß","◊©◊ß◊ò"],"correctAnswer":2}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊¢◊• : ◊ô◊¢◊®  =  ◊ë◊ô◊™ : ?","text2":null,"options":["◊í◊ü","◊ó◊ì◊®","◊®◊ó◊ï◊ë","◊©◊õ◊ï◊†◊î"],"correctAnswer":3},{"id":"q2","text":"◊õ◊†◊£ : ◊¶◊ô◊§◊ï◊®  =  ◊°◊†◊§◊ô◊® : ?","text2":null,"options":["◊ó◊™◊ï◊ú","◊õ◊ú◊ë","◊ì◊í","◊°◊ï◊°"],"correctAnswer":2},{"id":"q3","text":"◊®◊ï◊§◊ê : ◊û◊®◊§◊ê  =  ◊©◊ï◊ò◊® : ?","text2":null,"options":["◊ë◊ï◊†◊î","◊û◊í◊ü","◊û◊ú◊û◊ì","◊†◊ï◊î◊í"],"correctAnswer":1},{"id":"q4","text":"◊®◊ê◊©◊ï◊ü : ◊ê◊ó◊®◊ï◊ü  =  ◊î◊™◊ó◊ú◊î : ?","text2":null,"options":["◊ê◊û◊¶◊¢","◊°◊ï◊£","◊©◊†◊ô","◊§◊™◊ô◊ó◊î"],"correctAnswer":1},{"id":"q5","text":"◊ß◊®◊ó : ◊ß◊®  =  ◊ê◊© : ?","text2":null,"options":["◊û◊ô◊ù","◊ó◊ù","◊ê◊ì◊ï◊ù","◊¢◊©◊ü"],"correctAnswer":1}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ë◊õ◊ô◊™◊î 45 ◊™◊ú◊û◊ô◊ì◊ô◊ù. ◊©◊ú◊ô◊© ◊û◊î◊ù ◊î◊ú◊õ◊ï ◊î◊ë◊ô◊™◊î","text2":"◊ï◊ê◊ñ ◊î◊í◊ô◊¢◊ï 5 ◊™◊ú◊û◊ô◊ì◊ô◊ù ◊ó◊ì◊©◊ô◊ù. ◊õ◊û◊î ◊™◊ú◊û◊ô◊ì◊ô◊ù ◊ë◊õ◊ô◊™◊î ◊¢◊õ◊©◊ô◊ï?","options":["30","35","25","40"],"correctAnswer":1},{"id":"q2","text":"◊ë◊ß◊ï◊ú◊†◊ï◊¢ 6 ◊©◊ï◊®◊ï◊™. ◊ë◊õ◊ú ◊©◊ï◊®◊î 7 ◊õ◊ô◊°◊ê◊ï◊™.","text2":"◊î◊ï◊¶◊ô◊ê◊ï 8 ◊õ◊ô◊°◊ê◊ï◊™ ◊ú◊™◊ô◊ß◊ï◊ü. ◊õ◊û◊î ◊õ◊ô◊°◊ê◊ï◊™ ◊†◊©◊ê◊®◊ï?","options":["30","36","34","38"],"correctAnswer":2},{"id":"q3","text":"◊®◊õ◊ë◊™ ◊ô◊¶◊ê◊î ◊û◊î◊™◊ó◊†◊î ◊ë◊©◊¢◊î 9:20 ◊ï◊†◊°◊¢◊î 45 ◊ì◊ß◊ï◊™.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊î◊í◊ô◊¢◊î ◊î◊®◊õ◊ë◊™ ◊ú◊ô◊¢◊ì?","options":["9:55","10:05","10:15","10:45"],"correctAnswer":1},{"id":"q4","text":"◊ú◊õ◊ú ◊ê◊ó◊ì ◊û-3 ◊ô◊ú◊ì◊ô◊ù ◊ô◊© 12 ◊û◊û◊™◊ß◊ô◊ù. ◊õ◊ú ◊ô◊ú◊ì ◊ê◊õ◊ú 1 ◊û◊û◊™◊ß.","text2":"◊õ◊û◊î ◊û◊û◊™◊ß◊ô◊ù ◊†◊©◊ê◊®◊ï ◊ú◊õ◊ú ◊ô◊ú◊ì?","options":["10","11","9","8"],"correctAnswer":1},{"id":"q5","text":"◊ê◊ë◊ê ◊ß◊†◊î 8 ◊ß\"◊í ◊™◊§◊ï◊ó◊ô◊ù ◊ë-5 ◊©\"◊ó ◊ú◊ß\"◊í","text2":"◊ï-2 ◊ß\"◊í ◊ê◊í◊°◊ô◊ù ◊ë-8 ◊©\"◊ó ◊ú◊ß\"◊í. ◊õ◊û◊î ◊©◊ô◊ú◊ù ◊°◊î\"◊õ?","options":["48","50","54","56"],"correctAnswer":3}]}]},{"id":"test5","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 5","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊ò◊ë◊ó ◊î◊õ◊ô◊ü ______ ◊ò◊¢◊ô◊û◊î ◊ú◊ê◊®◊ï◊ó◊™ ◊î◊¢◊®◊ë.","text2":null,"options":["◊©◊ï◊ú◊ó◊ü","◊ê◊®◊ï◊ó◊î","◊û◊†◊ï◊®◊î","◊õ◊®◊ô◊™"],"correctAnswer":1},{"id":"q2","text":"◊õ◊ì◊ô ◊ú◊©◊û◊ï◊¢ ◊û◊ï◊ñ◊ô◊ß◊î ◊ê◊†◊ó◊†◊ï ◊û◊©◊™◊û◊©◊ô◊ù ◊ë______.","text2":null,"options":["◊¢◊ô◊†◊ô◊ô◊ù","◊ê◊ï◊ñ◊†◊ô◊ô◊ù","◊ô◊ì◊ô◊ô◊ù","◊®◊í◊ú◊ô◊ô◊ù"],"correctAnswer":1},{"id":"q3","text":"◊î◊ô◊ú◊ì◊ô◊ù ◊ô◊¶◊ê◊ï ◊ú______ ◊ë◊ñ◊û◊ü ◊î◊î◊§◊°◊ß◊î.","text2":null,"options":["◊©◊ô◊†◊î","◊ó◊¶◊®","◊©◊ô◊¢◊ï◊®","◊û◊ë◊ó◊ü"],"correctAnswer":1},{"id":"q4","text":"◊ê◊ó◊®◊ô ◊î◊í◊©◊ù ◊†◊®◊ê◊î ◊ú◊§◊¢◊û◊ô◊ù ______ ◊ë◊©◊û◊ô◊ô◊ù.","text2":null,"options":["◊©◊ú◊í","◊ß◊©◊™","◊õ◊ï◊õ◊ë","◊ô◊®◊ó"],"correctAnswer":1},{"id":"q5","text":"◊î◊ì◊ï◊ê◊® ◊û◊ë◊ô◊ê ______ ◊ú◊™◊ô◊ë◊™ ◊î◊ì◊ï◊ê◊® ◊©◊ú◊†◊ï.","text2":null,"options":["◊§◊®◊ó◊ô◊ù","◊û◊õ◊™◊ë◊ô◊ù","◊°◊§◊®◊ô◊ù","◊¶◊¢◊¶◊ï◊¢◊ô◊ù"],"correctAnswer":1}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊¢◊ô◊ü : ◊ú◊®◊ê◊ï◊™  =  ◊ê◊ï◊ñ◊ü : ?","text2":null,"options":["◊ú◊ì◊ë◊®","◊ú◊©◊û◊ï◊¢","◊ú◊í◊¢◊™","◊ú◊î◊®◊ô◊ó"],"correctAnswer":1},{"id":"q2","text":"◊¶◊û◊® : ◊õ◊ë◊©◊î  =  ◊ë◊ô◊¶◊î : ?","text2":null,"options":["◊§◊®◊î","◊™◊®◊†◊í◊ï◊ú◊™","◊°◊ï◊°","◊õ◊ú◊ë"],"correctAnswer":1},{"id":"q3","text":"◊¢◊í◊ï◊ú : ◊õ◊ì◊ï◊®  =  ◊û◊®◊ï◊ë◊¢ : ?","text2":null,"options":["◊ß◊ï◊ë◊ô◊î","◊ó◊®◊ï◊ò","◊í◊ú◊ô◊ú","◊§◊ô◊®◊û◊ô◊ì◊î"],"correctAnswer":0},{"id":"q4","text":"◊ì◊ß◊î : ◊©◊¢◊î  =  ◊ô◊ï◊ù : ?","text2":null,"options":["◊ú◊ô◊ú◊î","◊ó◊ï◊ì◊©","◊©◊†◊î","◊©◊ë◊ï◊¢"],"correctAnswer":3},{"id":"q5","text":"◊ó◊ï◊®◊£ : ◊í◊©◊ù  =  ◊ß◊ô◊• : ?","text2":null,"options":["◊©◊ú◊í","◊©◊û◊©","◊¢◊†◊ü","◊®◊ï◊ó"],"correctAnswer":1}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"48 ◊ô◊ú◊ì◊ô◊ù ◊ó◊ï◊ú◊ß◊ï ◊ú-6 ◊ß◊ë◊ï◊¶◊ï◊™ ◊©◊ï◊ï◊™.","text2":"◊õ◊û◊î ◊ô◊ú◊ì◊ô◊ù ◊ë◊õ◊ú ◊ß◊ë◊ï◊¶◊î?","options":["6","7","8","9"],"correctAnswer":2},{"id":"q2","text":"3 ◊ô◊ú◊ì◊ô◊ù. ◊ú◊õ◊ú ◊ê◊ó◊ì 7 ◊û◊ì◊ë◊ß◊ï◊™. ◊õ◊ú ◊ê◊ó◊ì ◊ß◊ô◊ë◊ú ◊¢◊ï◊ì 4.","text2":"◊õ◊û◊î ◊û◊ì◊ë◊ß◊ï◊™ ◊ô◊© ◊ú◊õ◊ï◊ú◊ù ◊ë◊ô◊ó◊ì?","options":["25","30","33","36"],"correctAnswer":2},{"id":"q3","text":"◊°◊®◊ò ◊î◊™◊ó◊ô◊ú ◊ë◊©◊¢◊î 4:50 ◊ï◊†◊û◊©◊ö ◊©◊¢◊î ◊ï-25 ◊ì◊ß◊ï◊™.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊†◊í◊û◊® ◊î◊°◊®◊ò?","options":["6:05","6:10","6:15","6:25"],"correctAnswer":2},{"id":"q4","text":"◊ú◊™◊û◊® ◊ô◊© 36 ◊©\"◊ó. ◊ß◊†◊™◊î 4 ◊¢◊ò◊ô◊ù ◊ë-5 ◊©\"◊ó ◊õ◊ú ◊ê◊ó◊ì.","text2":"◊õ◊û◊î ◊õ◊°◊£ ◊†◊©◊ê◊® ◊ú◊™◊û◊®?","options":["12","16","20","24"],"correctAnswer":1},{"id":"q5","text":"◊ë◊ó◊†◊ï◊™ 80 ◊™◊§◊ï◊ó◊ô◊ù. ◊û◊õ◊®◊ï ◊®◊ë◊¢ ◊ë◊ë◊ï◊ß◊® ◊ï◊®◊ë◊¢ ◊ê◊ó◊î\"◊¶.","text2":"◊õ◊û◊î ◊™◊§◊ï◊ó◊ô◊ù ◊†◊©◊ê◊®◊ï?","options":["20","30","40","60"],"correctAnswer":2}]}]},{"id":"test6","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 6","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊©◊ó◊ß◊†◊ô◊ù ◊®◊¶◊ï ◊¢◊ú ______ ◊î◊õ◊ì◊ï◊®◊í◊ú.","text2":null,"options":["◊î◊í◊í","◊î◊û◊í◊®◊©","◊î◊õ◊ë◊ô◊©","◊î◊©◊ï◊ú◊ó◊ü"],"correctAnswer":1},{"id":"q2","text":"◊ë◊í◊ü ◊î◊ó◊ô◊ï◊™ ◊®◊ê◊ô◊†◊ï ______ ◊í◊ì◊ï◊ú ◊û◊ê◊ï◊ì.","text2":null,"options":["◊°◊§◊®","◊§◊ô◊ú","◊õ◊ì◊ï◊®","◊©◊ï◊ú◊ó◊ü"],"correctAnswer":1},{"id":"q3","text":"◊î◊¶◊ô◊ô◊® ◊¶◊ô◊ô◊® ______ ◊ô◊§◊î ◊¢◊ú ◊î◊ë◊ì.","text2":null,"options":["◊©◊ô◊®","◊®◊ô◊ß◊ï◊ì","◊™◊û◊ï◊†◊î","◊°◊ô◊§◊ï◊®"],"correctAnswer":2},{"id":"q4","text":"◊î◊ô◊ú◊ì◊ô◊ù ◊ê◊î◊ë◊ï ◊ú◊©◊ó◊ß ◊ë______ ◊ê◊ó◊®◊ô ◊î◊ú◊ô◊û◊ï◊ì◊ô◊ù.","text2":null,"options":["◊û◊ë◊ó◊ü","◊§◊ê◊®◊ß","◊õ◊ô◊™◊î","◊©◊ô◊¢◊ï◊®"],"correctAnswer":1},{"id":"q5","text":"◊î◊ó◊ß◊ú◊ê◊ô ◊í◊ô◊ì◊ú ______ ◊ò◊®◊ô◊ô◊ù ◊ë◊©◊ì◊î.","text2":null,"options":["◊û◊õ◊ï◊†◊ô◊ï◊™","◊ô◊®◊ß◊ï◊™","◊°◊§◊®◊ô◊ù","◊õ◊ô◊°◊ê◊ï◊™"],"correctAnswer":1}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊¶◊ë◊¢ : ◊û◊õ◊ó◊ï◊ú  =  ◊û◊ï◊ñ◊ô◊ß◊î : ?","text2":null,"options":["◊°◊§◊®","◊õ◊ô◊†◊ï◊®","◊™◊û◊ï◊†◊î","◊û◊ó◊ë◊®◊™"],"correctAnswer":1},{"id":"q2","text":"◊¢◊ú◊î : ◊¢◊•  =  ◊õ◊†◊£ : ?","text2":null,"options":["◊¶◊ô◊§◊ï◊®","◊ì◊í","◊†◊ó◊©","◊¶◊ë"],"correctAnswer":0},{"id":"q3","text":"◊®◊¢◊ë : ◊ê◊ï◊õ◊ú  =  ◊¶◊û◊ê : ?","text2":null,"options":["◊ú◊ó◊ù","◊©◊™◊ô◊ô◊î","◊©◊ô◊†◊î","◊ë◊í◊ì"],"correctAnswer":1},{"id":"q4","text":"◊ê◊ë◊ü : ◊ß◊©◊î  =  ◊¶◊û◊® : ?","text2":null,"options":["◊ó◊ì","◊õ◊ë◊ì","◊®◊ö","◊û◊î◊ô◊®"],"correctAnswer":2},{"id":"q5","text":"◊ê◊ó : ◊ê◊ó◊ï◊™  =  ◊°◊ë◊ê : ?","text2":null,"options":["◊ê◊ë◊ê","◊ê◊û◊ê","◊°◊ë◊™◊ê","◊ì◊ï◊ì"],"correctAnswer":2}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ë◊ê◊®◊ï◊ü 42 ◊í◊®◊ë◊ô◊ô◊ù. ◊ó◊¶◊ô ◊û◊î◊ü ◊õ◊ó◊ï◊ú◊ï◊™.","text2":"◊©◊ú◊ô◊© ◊û◊î◊õ◊ó◊ï◊ú◊ï◊™ ◊û◊ú◊ï◊õ◊ú◊õ◊ï◊™. ◊õ◊û◊î ◊í◊®◊ë◊ô◊ô◊ù ◊õ◊ó◊ï◊ú◊ï◊™ ◊†◊ß◊ô◊ï◊™?","options":["7","14","21","28"],"correctAnswer":1},{"id":"q2","text":"◊®◊õ◊ë◊™ ◊¢◊ï◊¶◊®◊™ ◊õ◊ú 15 ◊ì◊ß◊ï◊™. ◊ô◊¶◊ê◊î ◊ë◊©◊¢◊î 8:00.","text2":"◊ë◊ê◊ô◊ñ◊ï ◊©◊¢◊î ◊™◊¢◊¶◊ï◊® ◊ë◊§◊¢◊ù ◊î◊®◊ë◊ô◊¢◊ô◊™?","options":["8:45","8:30","8:55","9:00"],"correctAnswer":3},{"id":"q3","text":"4 ◊ó◊ë◊®◊ô◊ù ◊ê◊°◊§◊ï 7 ◊¶◊ì◊§◊ô◊ù ◊õ◊ú ◊ê◊ó◊ì.","text2":"◊†◊™◊†◊ï 10 ◊¶◊ì◊§◊ô◊ù ◊ú◊ó◊ë◊®. ◊õ◊û◊î ◊¶◊ì◊§◊ô◊ù ◊†◊©◊ê◊®◊ï?","options":["14","16","18","20"],"correctAnswer":2},{"id":"q4","text":"◊ê◊ë◊ê ◊ß◊†◊î 3 ◊§◊ô◊¶◊ï◊™. ◊õ◊ú ◊§◊ô◊¶◊î ◊ó◊ï◊ú◊ß◊î ◊ú-8 ◊û◊©◊ï◊ú◊©◊ô◊ù.","text2":"◊î◊û◊©◊§◊ó◊î ◊ê◊õ◊ú◊î 19 ◊û◊©◊ï◊ú◊©◊ô◊ù. ◊õ◊û◊î ◊†◊©◊ê◊®◊ï?","options":["5","3","7","9"],"correctAnswer":0},{"id":"q5","text":"◊î◊û◊®◊ó◊ß ◊û◊î◊ë◊ô◊™ ◊ú◊ë◊ô◊™ ◊î◊°◊§◊® ◊î◊ï◊ê 2 ◊ß\"◊û.","text2":"◊ì◊†◊ô ◊î◊ï◊ú◊ö ◊ï◊ë◊ê ◊õ◊ú ◊ô◊ï◊ù. ◊õ◊û◊î ◊ß\"◊û ◊ë-5 ◊ô◊û◊ô◊ù?","options":["10","15","20","25"],"correctAnswer":2}]}]},{"id":"test7","name":"◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 7","sections":[{"id":"s1","name":"◊ó◊ú◊ß 1: ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù","type":"text","questions":[{"id":"q1","text":"◊î◊ì◊ë◊ï◊®◊î ◊ê◊ï◊°◊§◊™ ______ ◊û◊î◊§◊®◊ó◊ô◊ù.","text2":null,"options":["◊¢◊ú◊ô◊ù","◊¶◊ï◊£","◊û◊ô◊ù","◊ê◊ë◊†◊ô◊ù"],"correctAnswer":1},{"id":"q2","text":"◊õ◊©◊ô◊ï◊®◊ì ◊©◊ú◊í ◊î◊ô◊ú◊ì◊ô◊ù ◊ë◊ï◊†◊ô◊ù ______ ◊ë◊ó◊ï◊•.","text2":null,"options":["◊ë◊ô◊™","◊ë◊ï◊ë◊™ ◊©◊ú◊í","◊í◊ì◊®","◊©◊ï◊ú◊ó◊ü"],"correctAnswer":1},{"id":"q3","text":"◊î◊ß◊ï◊°◊ù ◊î◊ï◊¶◊ô◊ê ______ ◊û◊î◊õ◊ï◊ë◊¢.","text2":null,"options":["◊û◊§◊™◊ó","◊ê◊®◊†◊ë","◊°◊§◊®","◊†◊¢◊ú"],"correctAnswer":1},{"id":"q4","text":"◊î◊†◊î◊® ______ ◊ú◊ê◊ò ◊ú◊õ◊ô◊ï◊ï◊ü ◊î◊ô◊ù.","text2":null,"options":["◊ñ◊ï◊®◊ù","◊ß◊ï◊§◊•","◊¢◊£","◊†◊ï◊§◊ú"],"correctAnswer":0},{"id":"q5","text":"◊õ◊ì◊ô ◊ú◊ó◊§◊ï◊® ◊ë◊ó◊ï◊ú ◊¶◊®◊ô◊ö ______ ◊ï◊ì◊ú◊ô.","text2":null,"options":["◊û◊ò◊®◊ô◊î","◊ê◊™","◊û◊í◊ë◊™","◊õ◊ï◊ë◊¢"],"correctAnswer":1}]},{"id":"s2","name":"◊ó◊ú◊ß 2: ◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù (◊ê◊†◊ú◊ï◊í◊ô◊ï◊™)","type":"text","questions":[{"id":"q1","text":"◊¢◊†◊ü : ◊©◊û◊ô◊ô◊ù  =  ◊°◊§◊ô◊†◊î : ?","text2":null,"options":["◊ô◊ë◊©◊î","◊ô◊ù","◊ê◊ï◊ï◊ô◊®","◊î◊®"],"correctAnswer":1},{"id":"q2","text":"◊¶◊¢◊ô◊® : ◊ñ◊ß◊ü  =  ◊ó◊ì◊© : ?","text2":null,"options":["◊í◊ì◊ï◊ú","◊ô◊©◊ü","◊ô◊§◊î","◊ß◊ò◊ü"],"correctAnswer":1},{"id":"q3","text":"◊û◊ï◊®◊î : ◊û◊ú◊û◊ì  =  ◊®◊ï◊§◊ê : ?","text2":null,"options":["◊ú◊ï◊û◊ì","◊û◊®◊§◊ê","◊ë◊ï◊†◊î","◊†◊ï◊î◊í"],"correctAnswer":1},{"id":"q4","text":"◊¢◊ô◊í◊ï◊ú : ◊õ◊ì◊ï◊®  =  ◊®◊ô◊ë◊ï◊¢ : ?","text2":null,"options":["◊û◊ú◊ë◊ü","◊ß◊ï◊ë◊ô◊î","◊û◊©◊ï◊ú◊©","◊ó◊®◊ï◊ò"],"correctAnswer":1},{"id":"q5","text":"◊§◊°◊†◊™◊® : ◊õ◊ú◊ô ◊†◊í◊ô◊†◊î  =  ◊ï◊®◊ì : ?","text2":null,"options":["◊¢◊•","◊§◊®◊ó","◊í◊ô◊†◊î","◊ê◊ì◊ï◊ù"],"correctAnswer":1}]},{"id":"s3","name":"◊ó◊ú◊ß 3: ◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ (◊ó◊©◊ë◊ï◊ü)","type":"text","questions":[{"id":"q1","text":"◊ë◊°◊§◊®◊ô◊ô◊î 96 ◊°◊§◊®◊ô◊ù ◊ë-8 ◊û◊ì◊§◊ô◊ù ◊©◊ï◊ï◊ô◊ù.","text2":"◊î◊ï◊¶◊ô◊ê◊ï 4 ◊°◊§◊®◊ô◊ù ◊û◊û◊ì◊£ ◊ê◊ó◊ì. ◊õ◊û◊î ◊°◊§◊®◊ô◊ù ◊†◊©◊ê◊®◊ï ◊ë◊û◊ì◊£?","options":["6","7","8","10"],"correctAnswer":2},{"id":"q2","text":"7 ◊ô◊ú◊ì◊ô◊ù: 3 ◊ß◊ô◊ë◊ú◊ï 4 ◊°◊ï◊õ◊®◊ô◊ï◊™ ◊õ◊ú ◊ê◊ó◊ì, ◊ï-4 ◊ß◊ô◊ë◊ú◊ï 6.","text2":"◊õ◊û◊î ◊°◊ï◊õ◊®◊ô◊ï◊™ ◊ó◊ï◊ú◊ß◊ï ◊°◊î\"◊õ?","options":["28","30","34","36"],"correctAnswer":3},{"id":"q3","text":"◊©◊¢◊ï◊ü ◊û◊®◊ê◊î 3:15.","text2":"◊ú◊§◊†◊ô ◊õ◊û◊î ◊ì◊ß◊ï◊™ ◊î◊ï◊ê ◊î◊®◊ê◊î 2:50?","options":["15","25","35","45"],"correctAnswer":1},{"id":"q4","text":"60 ◊ë◊ú◊ï◊†◊ô◊ù. ◊ó◊¶◊ô ◊ê◊ì◊ï◊û◊ô◊ù. ◊©◊ú◊ô◊© ◊û◊î◊ê◊ì◊ï◊û◊ô◊ù ◊î◊™◊§◊ï◊¶◊¶◊ï.","text2":"◊õ◊û◊î ◊ë◊ú◊ï◊†◊ô◊ù ◊ê◊ì◊ï◊û◊ô◊ù ◊©◊ú◊û◊ô◊ù?","options":["10","20","25","30"],"correctAnswer":1},{"id":"q5","text":"◊ó◊†◊ô◊ï◊ü ◊¢◊ù 5 ◊©◊ï◊®◊ï◊™ ◊ï-8 ◊û◊ß◊ï◊û◊ï◊™ ◊ë◊õ◊ú ◊©◊ï◊®◊î.","text2":"26 ◊û◊õ◊ï◊†◊ô◊ï◊™ ◊ë◊ó◊†◊ô◊ï◊ü. ◊õ◊û◊î ◊û◊ß◊ï◊û◊ï◊™ ◊§◊†◊ï◊ô◊ô◊ù?","options":["12","13","14","16"],"correctAnswer":2}]}]}];

const UNIT_QUIZ_MAP = {"◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ß◊ú◊ê◊ï◊ì ◊ô◊ï◊ù ◊ï":"test1","◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ß◊ú◊ê◊ï◊ì ◊ô◊ï◊ù ◊ó":"test2","◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 3":"test3","◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 4":"test4","◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 5":"test5","◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 6":"test6","◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 7":"test7"};

const ALL_UNITS = [
  "◊ë◊¢◊ô◊ï◊™ ◊û◊ô◊ú◊ï◊ú◊ô◊ï◊™ ◊ë◊ú◊ë◊ì",
  "◊î◊ë◊†◊™ ◊î◊†◊ß◊®◊ê ◊ï◊ô◊ì◊¢ ◊õ◊ú◊ú◊ô ◊ë◊ú◊ë◊ì",
  "◊û◊ë◊ó◊ü ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊ê",
  "◊û◊ë◊ó◊ü ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊í",
  "◊û◊ë◊ó◊ü ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊ì",
  "◊û◊ë◊ó◊ü ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊î",
  "◊û◊ë◊ó◊ü ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊ï",
  "◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 3",
  "◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 4",
  "◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 5",
  "◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 6",
  "◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ◊©◊ú ◊ß◊ú◊ê◊ï◊ì 7",
  "◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊ë",
  "◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ô◊ï◊ù ◊ì",
  "◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ß◊ú◊ê◊ï◊ì ◊ô◊ï◊ù ◊ï",
  "◊û◊ë◊ó◊ü ◊û◊ú◊ê ◊ú◊ì◊ï◊í◊û◊ê ◊ß◊ú◊ê◊ï◊ì ◊ô◊ï◊ù ◊ó",
  "◊ß◊©◊®◊ô◊ù ◊û◊ô◊ú◊ï◊ú◊ô◊ô◊ù ◊ë◊ú◊ë◊ì",
  "◊™◊®◊í◊ï◊ú ◊®◊¶◊§◊ô◊ù",
  "◊™◊®◊í◊ô◊ú◊ô ◊°◊ì◊®◊ï◊™ ◊ë◊ú◊ë◊ì"
];

const PRIZES = [
  { name: "◊û◊û◊™◊ß", icon: "üç¨" },
  { name: "◊¶◊¢◊¶◊ï◊¢", icon: "üß∏" },
  { name: "◊ó◊¶◊ô ◊©◊¢◊î ◊û◊°◊ö ◊ë◊©◊ë◊™", icon: "üì∫" },
  { name: "◊ò◊ê◊ë◊ú◊ò ◊ó◊¶◊ô ◊©◊¢◊î ◊ë◊ê◊û◊¶◊¢ ◊©◊ë◊ï◊¢", icon: "üì±" },
  { name: '15 ◊©"◊ó ◊ú◊ß◊ê◊©◊ß◊ê◊©', icon: "üí∞" }
];

const ENCOURAGEMENTS = [
  "!◊ê◊ú◊ï◊£", "!◊û◊ì◊î◊ô◊ù", "!◊õ◊ú ◊î◊õ◊ë◊ï◊ì", "!◊ô◊ê◊ú◊ú◊î, ◊ß◊ì◊ô◊û◊î", "!◊ë◊ï◊ú ◊§◊í◊ô◊¢◊î",
  "!◊ê◊©", "!◊û◊õ◊ï◊†◊î", "!◊ó◊ñ◊ß", "!◊°◊ï◊§◊® ◊°◊ò◊ê◊®", "!◊ë◊ï◊ù"
];

const RANK_NAMES = [
  { min: 0, name: "◊ò◊ô◊®◊ï◊ü", icon: "ü•â" },
  { min: 30, name: "◊ú◊ï◊ó◊ù", icon: "ü•à" },
  { min: 70, name: "◊û◊§◊ß◊ì", icon: "ü•á" },
  { min: 120, name: "◊ê◊ú◊ï◊£", icon: "üëë" },
  { min: 190, name: "◊ê◊í◊ì◊î!", icon: "‚ö°" }
];

const LABELS = ['◊ê', '◊ë', '◊í', '◊ì'];
const PTS_PER_UNIT = 10;
const PTS_PER_PRIZE = 50;
let showAdmin = false;

// ============ STATE ============
function loadState() {
  try {
    const saved = localStorage.getItem('gifted_tracker');
    if (saved) return JSON.parse(saved);
  } catch(e) {}
  return { completed: [], prizes: [], lastAction: null, bonusPts: 0, completedDates: {}, quizScores: {} };
}

let state = loadState();
if (!state.bonusPts) state.bonusPts = 0;
if (!state.completedDates) state.completedDates = {};
if (!state.quizScores) state.quizScores = {};

function saveState() {
  try { localStorage.setItem('gifted_tracker', JSON.stringify(state)); } catch(e) {}
}

function getTotalPts() {
  return state.completed.length * PTS_PER_UNIT + (state.bonusPts || 0);
}

function getRank(pts) {
  let rank = RANK_NAMES[0];
  for (const r of RANK_NAMES) { if (pts >= r.min) rank = r; }
  return rank;
}

function getStreak() {
  const dates = Object.values(state.completedDates || {});
  if (dates.length === 0) return 0;
  const unique = [...new Set(dates)].sort().reverse();
  const today = new Date().toISOString().slice(0, 10);
  const yesterday = new Date(Date.now() - 86400000).toISOString().slice(0, 10);
  if (unique[0] !== today && unique[0] !== yesterday) return 0;
  let streak = 1;
  for (let i = 1; i < unique.length; i++) {
    const d1 = new Date(unique[i - 1]);
    const d2 = new Date(unique[i]);
    const diff = (d1 - d2) / 86400000;
    if (diff === 1) streak++;
    else break;
  }
  return streak;
}

// ============ QUIZ STATE ============
let quizActive = false;
let currentQuiz = null;  // {testId, test, answers: {sectionIdx_qIdx: answerIdx}, currentQ: idx}
let quizTimer = null;
let quizStartTime = null;
let quizElapsed = 0;

function getQuizForUnit(unitName) {
  const testId = UNIT_QUIZ_MAP[unitName];
  if (!testId) return null;
  return QUIZ_TESTS.find(t => t.id === testId);
}

function getAllQuizQuestions(test) {
  const questions = [];
  test.sections.forEach((sec, si) => {
    sec.questions.forEach((q, qi) => {
      questions.push({ ...q, sectionIdx: si, questionIdx: qi, sectionName: sec.name });
    });
  });
  return questions;
}

function startQuiz(unitName) {
  const test = getQuizForUnit(unitName);
  if (!test) return;
  quizActive = true;
  currentQuiz = {
    testId: test.id,
    unitName: unitName,
    test: test,
    answers: {},
    currentQ: 0,
    allQuestions: getAllQuizQuestions(test)
  };
  quizElapsed = 0;
  quizStartTime = Date.now();
  quizTimer = setInterval(() => {
    quizElapsed = Math.floor((Date.now() - quizStartTime) / 1000);
    const timerEl = document.getElementById('quiz-timer-display');
    if (timerEl) timerEl.textContent = formatTime(quizElapsed);
  }, 1000);
  renderQuiz();
}

function formatTime(seconds) {
  const m = Math.floor(seconds / 60);
  const s = seconds % 60;
  return String(m).padStart(2, '0') + ':' + String(s).padStart(2, '0');
}

function selectAnswer(idx) {
  if (!currentQuiz) return;
  const q = currentQuiz.allQuestions[currentQuiz.currentQ];
  const key = q.sectionIdx + '_' + q.questionIdx;
  currentQuiz.answers[key] = idx;
  renderQuiz();
}

function nextQuestion() {
  if (!currentQuiz) return;
  if (currentQuiz.currentQ < currentQuiz.allQuestions.length - 1) {
    currentQuiz.currentQ++;
    renderQuiz();
    window.scrollTo({top: 0, behavior: 'smooth'});
  }
}

function prevQuestion() {
  if (!currentQuiz) return;
  if (currentQuiz.currentQ > 0) {
    currentQuiz.currentQ--;
    renderQuiz();
    window.scrollTo({top: 0, behavior: 'smooth'});
  }
}

function finishQuiz() {
  if (!currentQuiz) return;
  clearInterval(quizTimer);
  quizTimer = null;
  const totalQ = currentQuiz.allQuestions.length;
  const unanswered = totalQ - Object.keys(currentQuiz.answers).length;
  if (unanswered > 0) {
    const overlay = document.createElement('div');
    overlay.className = 'modal-overlay';
    overlay.innerHTML = `
      <div class="modal-box">
        <div class="trophy">‚úã</div>
        <h2>◊®◊í◊¢!</h2>
        <div class="confirm-text">◊ô◊© ◊ú◊ö ◊¢◊ï◊ì ${unanswered} ◊©◊ê◊ú◊ï◊™ ◊ë◊ú◊ô ◊™◊©◊ï◊ë◊î.<br>◊ë◊ò◊ï◊ó ◊©◊ê◊™◊î ◊®◊ï◊¶◊î ◊ú◊°◊ô◊ô◊ù?</div>
        <div>
          <button class="modal-btn danger" onclick="this.closest('.modal-overlay').remove(); showResults();">◊õ◊ü, ◊°◊ô◊ô◊ù</button>
          <button class="modal-btn cancel" onclick="this.closest('.modal-overlay').remove(); quizStartTime=Date.now()-quizElapsed*1000; quizTimer=setInterval(()=>{quizElapsed=Math.floor((Date.now()-quizStartTime)/1000);const t=document.getElementById('quiz-timer-display');if(t)t.textContent=formatTime(quizElapsed);},1000);">◊ó◊ñ◊ï◊® ◊ú◊û◊ë◊ó◊ü</button>
        </div>
      </div>
    `;
    document.body.appendChild(overlay);
    return;
  }
  showResults();
}

function showResults() {
  clearInterval(quizTimer);
  quizTimer = null;
  let correct = 0;
  const total = currentQuiz.allQuestions.length;
  currentQuiz.allQuestions.forEach(q => {
    const key = q.sectionIdx + '_' + q.questionIdx;
    if (currentQuiz.answers[key] === q.correctAnswer) correct++;
  });

  // Save score
  state.quizScores[currentQuiz.testId] = {
    score: correct,
    total: total,
    time: quizElapsed,
    date: new Date().toISOString().slice(0, 10)
  };
  saveState();

  currentQuiz.showResults = true;
  currentQuiz.correctCount = correct;
  renderQuizResults();
}

function exitQuiz() {
  clearInterval(quizTimer);
  quizTimer = null;
  quizActive = false;
  currentQuiz = null;
  render();
}

// ============ RENDER QUIZ ============
function renderQuiz() {
  const app = document.getElementById('app');
  const q = currentQuiz.allQuestions[currentQuiz.currentQ];
  const key = q.sectionIdx + '_' + q.questionIdx;
  const selectedAnswer = currentQuiz.answers[key];
  const totalQ = currentQuiz.allQuestions.length;
  const answered = Object.keys(currentQuiz.answers).length;
  const progress = (answered / totalQ) * 100;

  let html = `
    <div class="quiz-container">
      <div class="quiz-header">
        <div class="quiz-title">${currentQuiz.test.name}</div>
        <div class="quiz-section-name">${q.sectionName}</div>
        <div class="quiz-timer">‚è±Ô∏è <span id="quiz-timer-display">${formatTime(quizElapsed)}</span></div>
      </div>
      <div class="quiz-progress-bar">
        <div class="quiz-progress-fill" style="width:${progress}%"></div>
      </div>
      <div class="quiz-progress-text">◊¢◊†◊ô◊™ ◊¢◊ú ${answered} ◊û◊™◊ï◊ö ${totalQ} ◊©◊ê◊ú◊ï◊™</div>

      <div class="quiz-question-card">
        <div class="quiz-q-num">◊©◊ê◊ú◊î ${currentQuiz.currentQ + 1} ◊û◊™◊ï◊ö ${totalQ}</div>
        <div class="quiz-q-text">
          ${q.text}
          ${q.text2 ? '<br>' + q.text2 : ''}
        </div>
        <div class="quiz-options">`;

  q.options.forEach((opt, i) => {
    const isSelected = selectedAnswer === i;
    html += `
          <div class="quiz-option ${isSelected ? 'selected' : ''}" onclick="selectAnswer(${i})">
            <div class="opt-letter">${LABELS[i]}</div>
            <div>${opt}</div>
          </div>`;
  });

  html += `
        </div>
      </div>
      <div class="quiz-nav">`;

  if (currentQuiz.currentQ > 0) {
    html += `<button class="quiz-nav-btn" onclick="prevQuestion()">‚Üí ◊î◊ß◊ï◊ì◊ù</button>`;
  }

  if (currentQuiz.currentQ < totalQ - 1) {
    html += `<button class="quiz-nav-btn primary" onclick="nextQuestion()">◊î◊ë◊ê ‚Üê</button>`;
  } else {
    html += `<button class="quiz-nav-btn primary" onclick="finishQuiz()">üèÅ ◊°◊ô◊ô◊ù ◊û◊ë◊ó◊ü</button>`;
  }

  html += `
      </div>
      <div style="text-align:center; margin-top:16px;">
        <button class="quiz-nav-btn back-home" onclick="exitQuizConfirm()">‚Ü©Ô∏è ◊ó◊ñ◊ï◊® ◊ú◊ì◊£ ◊î◊ë◊ô◊™</button>
      </div>

      <div style="display:flex; flex-wrap:wrap; gap:6px; justify-content:center; margin-top:16px;">`;

  // Question navigation dots
  for (let i = 0; i < totalQ; i++) {
    const qq = currentQuiz.allQuestions[i];
    const kk = qq.sectionIdx + '_' + qq.questionIdx;
    const isAnswered = currentQuiz.answers[kk] !== undefined;
    const isCurrent = i === currentQuiz.currentQ;
    const bg = isCurrent ? 'var(--bs-cyan)' : (isAnswered ? 'var(--bs-green)' : 'rgba(255,255,255,0.15)');
    const border = isCurrent ? 'var(--bs-cyan)' : (isAnswered ? 'var(--bs-green)' : 'rgba(255,255,255,0.2)');
    html += `<div onclick="currentQuiz.currentQ=${i}; renderQuiz(); window.scrollTo({top:0,behavior:'smooth'});"
      style="width:28px; height:28px; border-radius:50%; background:${bg}; border:2px solid ${border};
      display:flex; align-items:center; justify-content:center; font-size:0.6em; font-weight:900;
      cursor:pointer; color:${isCurrent || isAnswered ? '#1a0a2e' : '#888'};">${i+1}</div>`;
  }

  html += `
      </div>
    </div>`;

  app.innerHTML = html;
}

function renderQuizResults() {
  const app = document.getElementById('app');
  const correct = currentQuiz.correctCount;
  const total = currentQuiz.allQuestions.length;
  const pct = Math.round((correct / total) * 100);
  const emoji = pct >= 80 ? 'üåü' : pct >= 60 ? 'üëç' : pct >= 40 ? 'üí™' : 'üìö';
  const msg = pct >= 80 ? '!◊û◊ì◊î◊ô◊ù, ◊ê◊ú◊ï◊£' : pct >= 60 ? '!◊õ◊ú ◊î◊õ◊ë◊ï◊ì' : pct >= 40 ? '!◊ú◊ê ◊®◊¢, ◊™◊û◊©◊ô◊ö' : '◊ë◊ï◊ê ◊†◊™◊®◊í◊ú ◊¢◊ï◊ì ◊ß◊¶◊™';

  let html = `
    <div class="quiz-container">
      <div class="quiz-results">
        <div style="font-size:4em;">${emoji}</div>
        <div class="quiz-score-big">${correct}/${total}</div>
        <div class="quiz-score-label">${msg}</div>
        <div class="quiz-score-label" style="font-size:2em; margin-top:4px;">${pct}%</div>
        <div class="quiz-time-result">‚è±Ô∏è ◊ñ◊û◊ü: ${formatTime(quizElapsed)}</div>
      </div>

      <div class="quiz-nav" style="margin-bottom:20px;">
        <button class="quiz-nav-btn primary" onclick="exitQuiz()">‚Ü©Ô∏è ◊ó◊ñ◊ï◊® ◊ú◊ì◊£ ◊î◊ë◊ô◊™</button>
        <button class="quiz-nav-btn" onclick="startQuiz(currentQuiz.unitName)">üîÑ ◊†◊°◊î ◊©◊ï◊ë</button>
      </div>

      <div class="units-title">üìã ◊°◊ô◊õ◊ï◊ù ◊™◊©◊ï◊ë◊ï◊™</div>`;

  let currentSection = '';
  currentQuiz.allQuestions.forEach((q, i) => {
    if (q.sectionName !== currentSection) {
      currentSection = q.sectionName;
      html += `<div class="quiz-section-header">${currentSection}</div>`;
    }
    const key = q.sectionIdx + '_' + q.questionIdx;
    const userAnswer = currentQuiz.answers[key];
    const isCorrect = userAnswer === q.correctAnswer;
    const isUnanswered = userAnswer === undefined;

    html += `
      <div class="quiz-result-item ${isCorrect ? 'correct' : 'wrong'}">
        <div class="quiz-result-icon">${isCorrect ? '‚úÖ' : (isUnanswered ? '‚¨ú' : '‚ùå')}</div>
        <div class="quiz-result-q">${i+1}. ${q.text}${q.text2 ? ' ' + q.text2 : ''}</div>
        <div class="quiz-result-answer">`;

    if (isUnanswered) {
      html += `<span style="color:#888;">◊ú◊ê ◊†◊¢◊†◊™◊î</span> | `;
      html += `◊™◊©◊ï◊ë◊î ◊†◊õ◊ï◊†◊î: <span class="correct-text">${LABELS[q.correctAnswer]}. ${q.options[q.correctAnswer]}</span>`;
    } else if (isCorrect) {
      html += `<span class="correct-text">${LABELS[userAnswer]}. ${q.options[userAnswer]} ‚úì</span>`;
    } else {
      html += `<span class="wrong-text">${LABELS[userAnswer]}. ${q.options[userAnswer]}</span> | `;
      html += `◊™◊©◊ï◊ë◊î ◊†◊õ◊ï◊†◊î: <span class="correct-text">${LABELS[q.correctAnswer]}. ${q.options[q.correctAnswer]}</span>`;
    }

    html += `</div></div>`;
  });

  html += `</div>`;
  app.innerHTML = html;
  window.scrollTo({top: 0, behavior: 'smooth'});
}

function exitQuizConfirm() {
  const overlay = document.createElement('div');
  overlay.className = 'modal-overlay';
  overlay.innerHTML = `
    <div class="modal-box">
      <div class="trophy">‚ö†Ô∏è</div>
      <h2>◊ú◊¶◊ê◊™ ◊û◊î◊û◊ë◊ó◊ü?</h2>
      <div class="confirm-text">◊î◊î◊™◊ß◊ì◊û◊ï◊™ ◊©◊ú◊ö ◊ë◊û◊ë◊ó◊ü ◊î◊ñ◊î ◊™◊ê◊ë◊ì.</div>
      <div>
        <button class="modal-btn danger" onclick="this.closest('.modal-overlay').remove(); exitQuiz();">◊õ◊ü, ◊¶◊ê</button>
        <button class="modal-btn cancel" onclick="this.closest('.modal-overlay').remove();">◊î◊û◊©◊ö ◊û◊ë◊ó◊ü</button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
}

// ============ RENDER MAIN ============
function render() {
  if (quizActive) { renderQuiz(); return; }
  const app = document.getElementById('app');
  const totalPts = getTotalPts();
  const totalPrizes = Math.floor(totalPts / PTS_PER_PRIZE);
  const ptsInCycle = totalPts % PTS_PER_PRIZE;
  const ptsToNext = PTS_PER_PRIZE - ptsInCycle;
  const xpProgress = (ptsInCycle / PTS_PER_PRIZE) * 100;
  const remaining = ALL_UNITS.length - state.completed.length;
  const rank = getRank(totalPts);
  const streak = getStreak();

  let html = `
    <div class="header">
      <button class="admin-toggle" onclick="showAdmin=!showAdmin; render();">‚öôÔ∏è</button>
      <h1>‚öîÔ∏è ◊û◊ë◊ó◊ü ◊û◊ó◊ï◊†◊†◊ô◊ù ‚öîÔ∏è</h1>
      <div class="subtitle">◊û◊¶◊ë ◊ß◊®◊ë!</div>
    </div>

    <div class="avatar-section">
      <div class="avatar">${rank.icon}</div>
      <div class="player-name">◊°◊î◊®</div>
      <div class="player-rank">◊ì◊®◊í◊î: ${rank.name}</div>
      ${streak >= 2 ? '<div class="streak-badge">üî• ◊®◊¶◊£ ' + streak + ' ◊ô◊û◊ô◊ù!</div>' : ''}
    </div>

    <div class="stats-bar">
      <div class="stat-box">
        <div class="stat-icon">‚≠ê</div>
        <div class="stat-value">${totalPts}</div>
        <div class="stat-label">◊†◊ß◊ï◊ì◊ï◊™</div>
      </div>
      <div class="stat-box">
        <div class="stat-icon">üèÜ</div>
        <div class="stat-value">${totalPrizes}</div>
        <div class="stat-label">◊§◊®◊°◊ô◊ù</div>
      </div>
      <div class="stat-box">
        <div class="stat-icon">üìã</div>
        <div class="stat-value">${state.completed.length}/${ALL_UNITS.length}</div>
        <div class="stat-label">◊î◊ï◊©◊ú◊û◊ï</div>
      </div>
    </div>

    <div class="xp-section">
      <div class="xp-header">
        <span class="xp-label">üî• ◊î◊™◊ß◊ì◊û◊ï◊™ ◊ú◊§◊®◊° ◊î◊ë◊ê</span>
        <span class="xp-value">${ptsInCycle}/${PTS_PER_PRIZE}</span>
      </div>
      <div class="xp-bar-bg">
        <div class="xp-bar-fill" style="width:${xpProgress}%"></div>
        <div class="xp-bar-text">${ptsInCycle}/${PTS_PER_PRIZE}</div>
      </div>
      <div class="xp-next-prize">${remaining > 0 ? '◊¢◊ï◊ì ' + ptsToNext + ' ◊†◊ß◊ï◊ì◊ï◊™ ◊ú◊§◊®◊°!' : ''}</div>
    </div>
  `;

  // Admin panel
  if (showAdmin) {
    html += `
    <div class="admin-panel">
      <div class="admin-title">‚öôÔ∏è ◊†◊ô◊î◊ï◊ú (◊î◊ï◊®◊ô◊ù)</div>
      <div class="admin-row">
        <div class="admin-label">◊†◊ß◊ï◊ì◊ï◊™ ◊ë◊ï◊†◊ï◊°:</div>
        <button class="admin-btn red" onclick="adjustBonus(-10)">-10</button>
        <div class="admin-pts-display">${state.bonusPts || 0}</div>
        <button class="admin-btn green" onclick="adjustBonus(+10)">+10</button>
      </div>
      <div class="admin-row">
        <div class="admin-label">◊ê◊ô◊§◊ï◊° ◊†◊ß◊ï◊ì◊ï◊™ ◊ë◊ï◊†◊ï◊°:</div>
        <button class="admin-btn red" onclick="resetBonus()">◊ê◊ô◊§◊ï◊°</button>
      </div>
      <div class="admin-row">
        <div class="admin-label">◊ë◊ô◊ò◊ï◊ú ◊ô◊ó◊ô◊ì◊î ◊ê◊ó◊®◊ï◊†◊î:</div>
        <button class="admin-btn" onclick="undoLast()" ${!state.lastAction ? 'style="opacity:0.4"' : ''}>‚Ü©Ô∏è ◊ë◊ò◊ú</button>
      </div>
      <div class="admin-row">
        <div class="admin-label">◊ê◊ô◊§◊ï◊° ◊î◊õ◊ú:</div>
        <button class="admin-btn red" onclick="resetAll()">üóëÔ∏è ◊û◊ó◊ß ◊î◊õ◊ú</button>
      </div>
    </div>`;
  }

  // Prizes
  if (state.prizes.length > 0) {
    html += '<div class="prizes-section"><div class="prizes-title">üéÅ ◊î◊§◊®◊°◊ô◊ù ◊©◊ú◊ö (' + state.prizes.length + ')</div><div class="prizes-list">';
    state.prizes.forEach(p => {
      html += '<div class="prize-chip claimed">' + p.icon + ' ' + p.name + '</div>';
    });
    html += '</div></div>';
  }

  // All done
  if (remaining === 0) {
    html += `
    <div class="all-done">
      <div class="big-trophy">üèÜ</div>
      <h2>◊°◊ô◊ô◊û◊™ ◊î◊õ◊ú!!!</h2>
      <p>◊ê◊™◊î ◊ê◊ú◊ï◊£ ◊ê◊û◊ô◊™◊ô! ◊õ◊ú ${ALL_UNITS.length} ◊î◊ô◊ó◊ô◊ì◊ï◊™ ◊î◊ï◊©◊ú◊û◊ï!</p>
    </div>`;
  }

  // Remaining units
  const remaining_units = ALL_UNITS.filter(u => !state.completed.includes(u));
  if (remaining_units.length > 0) {
    html += '<div class="units-title">‚ö° ◊ô◊ó◊ô◊ì◊ï◊™ ◊ú◊™◊®◊í◊ï◊ú (' + remaining_units.length + ')</div>';
    remaining_units.forEach((unit) => {
      const globalIdx = ALL_UNITS.indexOf(unit) + 1;
      const escaped = unit.replace(/'/g, "\\'").replace(/"/g, '&quot;');
      const pdfUrl = encodeURIComponent(unit + '.pdf');
      const hasQuiz = !!UNIT_QUIZ_MAP[unit];
      const prevScore = state.quizScores[UNIT_QUIZ_MAP[unit]];
      let scoreTag = '';
      if (prevScore) {
        scoreTag = '<br><span style="font-size:0.65em;color:var(--bs-cyan);">üéØ ' + prevScore.score + '/' + prevScore.total + '</span>';
      }
      html += `
        <div class="unit-card" onclick="confirmComplete('${escaped}')">
          <div class="unit-num">${globalIdx}</div>
          <div class="unit-name">${unit}${scoreTag}</div>
          ${hasQuiz ? '<button class="unit-quiz-btn" onclick="event.stopPropagation(); startQuiz(\'' + escaped + '\');" title="◊î◊™◊ó◊ú ◊û◊ë◊ó◊ü ◊ê◊ï◊†◊ú◊ô◊ô◊ü">üß†</button>' : ''}
          <a class="unit-pdf-btn" href="${pdfUrl}" target="_blank" onclick="event.stopPropagation();" title="◊§◊™◊ó PDF">üìÑ</a>
          <div class="unit-pts">+${PTS_PER_UNIT}</div>
          <div class="unit-status">üëä</div>
        </div>`;
    });
  }

  // Completed units
  if (state.completed.length > 0) {
    html += '<div class="units-title" style="margin-top:20px">‚úÖ ◊°◊ô◊ô◊û◊†◊ï! (' + state.completed.length + ')</div>';
    state.completed.slice().reverse().forEach((unit) => {
      const date = state.completedDates[unit] || '';
      const pdfUrl = encodeURIComponent(unit + '.pdf');
      const hasQuiz = !!UNIT_QUIZ_MAP[unit];
      const escaped = unit.replace(/'/g, "\\'").replace(/"/g, '&quot;');
      const prevScore = state.quizScores[UNIT_QUIZ_MAP[unit]];
      let scoreTag = '';
      if (prevScore) {
        scoreTag = '<br><span style="font-size:0.65em;color:var(--bs-cyan);">üéØ ' + prevScore.score + '/' + prevScore.total + '</span>';
      }
      html += `
        <div class="unit-card done">
          <div class="unit-num">‚úì</div>
          <div class="unit-name">${unit}${date ? '<br><span style="font-size:0.7em;color:#888;">' + date + '</span>' : ''}${scoreTag}</div>
          ${hasQuiz ? '<button class="unit-quiz-btn" onclick="event.stopPropagation(); startQuiz(\'' + escaped + '\');" title="◊™◊®◊í◊ú ◊©◊ï◊ë">üß†</button>' : ''}
          <a class="unit-pdf-btn" href="${pdfUrl}" target="_blank" onclick="event.stopPropagation();" title="◊§◊™◊ó PDF">üìÑ</a>
          <div class="unit-pts">+${PTS_PER_UNIT} ‚úî</div>
          <div class="unit-status">üåü</div>
        </div>`;
    });
  }

  app.innerHTML = html;
}

// ============ CONFIRM DIALOG ============
function confirmComplete(unitName) {
  if (state.completed.includes(unitName)) return;
  const overlay = document.createElement('div');
  overlay.className = 'modal-overlay';
  overlay.innerHTML = `
    <div class="modal-box">
      <div class="trophy">üéØ</div>
      <h2>◊°◊ô◊ô◊û◊™ ◊ê◊™ ◊î◊û◊©◊ô◊û◊î?</h2>
      <div class="confirm-unit">${unitName}</div>
      <div class="confirm-text">◊ë◊ò◊ï◊ó ◊©◊¢◊ë◊®◊™ ◊¢◊ú ◊î◊õ◊ú?<br>◊ê◊ù ◊õ◊ü ‚Äî ◊û◊í◊ô◊¢ ◊ú◊ö ◊†◊ß◊ï◊ì◊ï◊™!</div>
      <div>
        <button class="modal-btn" onclick="this.closest('.modal-overlay').remove(); doComplete('${unitName.replace("'", "\\'")}')">!◊°◊ô◊ô◊û◊™◊ô üí™</button>
        <button class="modal-btn cancel" onclick="this.closest('.modal-overlay').remove()">◊¢◊ï◊ì ◊ú◊ê</button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
}

// ============ ACTIONS ============
function doComplete(unitName) {
  if (state.completed.includes(unitName)) return;
  state.completed.push(unitName);
  state.completedDates[unitName] = new Date().toISOString().slice(0, 10);
  state.lastAction = { type: 'complete', unit: unitName };
  saveState();
  const enc = ENCOURAGEMENTS[Math.floor(Math.random() * ENCOURAGEMENTS.length)];
  showPointsPopup(enc);
  spawnConfetti();
  vibrate();
  const totalPts = getTotalPts();
  const earnedPrizes = Math.floor(totalPts / PTS_PER_PRIZE);
  if (earnedPrizes > state.prizes.length) {
    setTimeout(() => {
      const available = PRIZES.filter(p => !state.prizes.some(sp => sp.name === p.name));
      let prize;
      if (available.length > 0) prize = available[Math.floor(Math.random() * available.length)];
      else prize = PRIZES[Math.floor(Math.random() * PRIZES.length)];
      state.prizes.push(prize);
      saveState();
      showPrizeModal(prize);
    }, 2000);
  }
  fetch('/api/complete', {
    method: 'POST', headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({unit: unitName})
  }).catch(() => {});
  setTimeout(() => render(), 400);
}

function adjustBonus(amount) {
  state.bonusPts = Math.max(0, (state.bonusPts || 0) + amount);
  saveState();
  const totalPts = getTotalPts();
  const expectedPrizes = Math.floor(totalPts / PTS_PER_PRIZE);
  while (state.prizes.length > expectedPrizes) state.prizes.pop();
  saveState();
  render();
}

function resetBonus() {
  state.bonusPts = 0;
  const totalPts = getTotalPts();
  const expectedPrizes = Math.floor(totalPts / PTS_PER_PRIZE);
  while (state.prizes.length > expectedPrizes) state.prizes.pop();
  saveState();
  render();
}

function undoLast() {
  if (!state.lastAction) return;
  const action = state.lastAction;
  if (action.type === 'complete') {
    fetch('/api/undo', {
      method: 'POST', headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({unit: action.unit})
    }).catch(() => {});
    state.completed = state.completed.filter(u => u !== action.unit);
    delete state.completedDates[action.unit];
    const totalPts = getTotalPts();
    const expectedPrizes = Math.floor(totalPts / PTS_PER_PRIZE);
    while (state.prizes.length > expectedPrizes) state.prizes.pop();
  }
  state.lastAction = null;
  saveState();
  render();
}

function resetAll() { showResetConfirm(); }

function showResetConfirm() {
  const overlay = document.createElement('div');
  overlay.className = 'modal-overlay';
  overlay.innerHTML = `
    <div class="modal-box">
      <div class="trophy">‚ö†Ô∏è</div>
      <h2>◊ë◊ò◊ï◊ó ◊ú◊û◊ó◊ï◊ß ◊î◊õ◊ú?</h2>
      <div class="confirm-text">◊õ◊ú ◊î◊†◊ß◊ï◊ì◊ï◊™, ◊î◊§◊®◊°◊ô◊ù ◊ï◊î◊î◊™◊ß◊ì◊û◊ï◊™ ◊ô◊ô◊û◊ó◊ß◊ï!<br>◊ê◊ô ◊ê◊§◊©◊® ◊ú◊ë◊ò◊ú ◊ê◊™ ◊ñ◊î.</div>
      <div>
        <button class="modal-btn danger" onclick="this.closest('.modal-overlay').remove(); doReset()">◊õ◊ü, ◊û◊ó◊ß ◊î◊õ◊ú</button>
        <button class="modal-btn cancel" onclick="this.closest('.modal-overlay').remove()">◊ë◊ô◊ò◊ï◊ú</button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
}

function doReset() {
  fetch('/api/reset', {method:'POST',headers:{'Content-Type':'application/json'},body:'{}'}).catch(()=>{});
  state = { completed: [], prizes: [], lastAction: null, bonusPts: 0, completedDates: {}, quizScores: {} };
  saveState();
  render();
}

// ============ EFFECTS ============
function showPointsPopup(message) {
  const popup = document.createElement('div');
  popup.className = 'points-popup';
  popup.innerHTML = `
    <div class="pts-text">+10</div>
    <div class="pts-label">${message || '!◊†◊ß◊ï◊ì◊ï◊™'}</div>
    <div class="pts-sub">‚≠ê ◊°◊î"◊õ: ${getTotalPts()} ◊†◊ß◊ï◊ì◊ï◊™</div>
  `;
  document.body.appendChild(popup);
  setTimeout(() => popup.remove(), 2200);
}

function spawnConfetti() {
  const container = document.getElementById('particles');
  const colors = ['#ffd700', '#ff8c00', '#ff3b3b', '#00e676', '#00e5ff', '#ff4081', '#fff', '#9c27b0'];
  for (let i = 0; i < 50; i++) {
    const p = document.createElement('div');
    p.className = 'particle';
    const size = 4 + Math.random() * 10;
    p.style.width = size + 'px';
    p.style.height = size * (0.5 + Math.random() * 0.5) + 'px';
    p.style.background = colors[Math.floor(Math.random() * colors.length)];
    p.style.left = (5 + Math.random() * 90) + '%';
    p.style.top = '-5%';
    p.style.animationDuration = (1.5 + Math.random() * 2.5) + 's';
    p.style.animationDelay = (Math.random() * 0.6) + 's';
    p.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
    container.appendChild(p);
    setTimeout(() => p.remove(), 5000);
  }
}

function vibrate() {
  try { navigator.vibrate && navigator.vibrate(100); } catch(e) {}
}

function showPrizeModal(prize) {
  spawnConfetti();
  spawnConfetti();
  vibrate();
  const overlay = document.createElement('div');
  overlay.className = 'modal-overlay';
  overlay.innerHTML = `
    <div class="modal-box">
      <div class="trophy">üèÜ</div>
      <h2>!!!◊õ◊ú ◊î◊õ◊ë◊ï◊ì</h2>
      <div class="prize-reveal">◊î◊í◊¢◊™ ◊ú-${state.prizes.length * PTS_PER_PRIZE} ◊†◊ß◊ï◊ì◊ï◊™!</div>
      <div class="prize-icon">${prize.icon}</div>
      <div class="prize-name">${prize.name}</div>
      <button class="modal-btn" onclick="this.closest('.modal-overlay').remove(); render();">!◊ô◊ê◊ú◊ú◊î üí™</button>
    </div>
  `;
  document.body.appendChild(overlay);
}

// ============ INIT ============
render();
</script>
</body>
</html>
